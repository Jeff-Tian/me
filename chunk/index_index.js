(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"120":function(e,t,n){var o=n(121);"string"==typeof o&&(o=[[e.i,o,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(36)(o,r);o.locals&&(e.exports=o.locals)},"121":function(e,t,n){(e.exports=n(35)(!1)).push([e.i,"input {\n  display: block;\n  height: 1.4rem;\n  text-align: inherit;\n  text-overflow: clip;\n  overflow: hidden;\n  white-space: nowrap;\n}",""])},"127":function(e,t,n){},"139":function(e){e.exports={"name":"@jeff-tian/me","version":"0.0.0-development","description":"我的个人中心","scripts":{"build:weapp":"taro build --type weapp","build:swan":"taro build --type swan","build:alipay":"taro build --type alipay","build:tt":"taro build --type tt","build:h5":"taro build --type h5","build:rn":"taro build --type rn","build":"node_modules/.bin/taro build --type h5","dev:weapp":"npm run build:weapp -- --watch","dev:swan":"npm run build:swan -- --watch","dev:alipay":"npm run build:alipay -- --watch","dev:tt":"npm run build:tt -- --watch","dev:h5":"npm run build:h5 -- --watch","dev:rn":"npm run build:rn -- --watch","e2e":"jest --config jest.config.js --detectOpenHandles","lint":"eslint . --fix","semantic-release":"semantic-release","test":"jest --config jest-unittest.config.js"},"author":"jeff.tian@outlook.com","homepage":"https://pa-ca.me/","license":"MIT","dependencies":{"@tarojs/async-await":"1.3.22","@tarojs/components":"1.3.22","@tarojs/redux":"1.3.22","@tarojs/redux-h5":"1.3.22","@tarojs/router":"1.3.22","@tarojs/taro":"1.3.22","@tarojs/taro-alipay":"1.3.22","@tarojs/taro-h5":"1.3.22","@tarojs/taro-swan":"1.3.22","@tarojs/taro-tt":"1.3.22","@tarojs/taro-weapp":"1.3.22","msal":"0.2.4","nerv-devtools":"^1.5.3","nervjs":"^1.5.3","ramda":"^0.26.1","react":"16.9.0","redux":"4.0.1","redux-logger":"3.0.6","redux-thunk":"2.3.0","taro-ui":"2.0.2"},"devDependencies":{"@babel/core":"^7.6.4","@babel/preset-env":"^7.6.3","@tarojs/cli":"1.3.22","@tarojs/plugin-babel":"1.3.22","@tarojs/plugin-csso":"1.3.22","@tarojs/plugin-stylus":"1.3.22","@tarojs/plugin-uglifyjs":"1.3.22","@tarojs/webpack-runner":"1.3.22","@types/jest":"^24.0.23","@types/jest-environment-puppeteer":"^4.3.1","@types/node":"^12.12.7","@types/puppeteer":"^1.20.2","@types/ramda":"github:types/npm-ramda#dist","@types/react":"16.8.8","@types/webpack-env":"1.13.9","babel-eslint":"8.2.6","babel-jest":"^24.9.0","babel-plugin-transform-class-properties":"6.24.1","babel-plugin-transform-decorators-legacy":"1.3.5","babel-plugin-transform-jsx-stylesheet":"0.6.5","babel-plugin-transform-object-rest-spread":"6.26.0","babel-preset-env":"^1.7.0","enzyme":"latest","enzyme-adapter-react-16":"latest","eslint":"4.19.1","eslint-config-prettier":"^6.5.0","eslint-config-taro":"1.3.22","eslint-plugin-import":"2.16.0","eslint-plugin-prettier":"^3.1.1","eslint-plugin-react":"7.12.4","eslint-plugin-react-hooks":"^2.3.0","eslint-plugin-taro":"1.3.22","eslint-plugin-typescript":"0.12.0","gifencoder":"^2.0.1","jest":"^24.9.0","jest-puppeteer":"^4.3.0","png-file-stream":"^1.2.1","prettier":"^1.18.2","puppeteer":"^2.0.0","puppeteer-core":"^2.0.0","react-dom":"^16.12.0","semantic-release":"^15.13.30","taro":"*","ts-jest":"^24.1.0","typescript":"3.6.3"},"repository":{"type":"git","url":"https://github.com/Jeff-Tian/me.git"},"publishConfig":{"access":"public"}}},"150":function(e,t,n){},"156":function(e,t,n){"use strict";var o=n(1),r=n(0),i=n(159),a=n(70),s=(n(30),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var c=function(e){function Form(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Form);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Form.__proto__||Object.getPrototypeOf(Form)).apply(this,arguments));return e.Forms=[],e.onSubmit=e.onSubmit.bind(e),e.onReset=e.onReset.bind(e),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Form,r["j"].Component),s(Form,[{"key":"onSubmit","value":function onSubmit(e){e.preventDefault();for(var t=r.j.findDOMNode(this),n=[],o=t.getElementsByTagName("input"),i=0;i<o.length;i++)n.push(o[i]);var a={},s={};n.forEach(function(e){-1===e.className.indexOf("weui-switch")?"radio"!==e.type?"checkbox"!==e.type?a[e.name]=e.value:e.checked?s[e.name]?a[e.name].push(e.value):(s[e.name]=!0,a[e.name]=[e.value]):s[e.name]||(a[e.name]=[]):e.checked?(s[e.name]=!0,a[e.name]=e.value):s[e.name]||(a[e.name]=""):a[e.name]=e.checked});for(var c=t.getElementsByTagName("textarea"),l=[],u=0;u<c.length;u++)l.push(c[u]);l.forEach(function(e){a[e.name]=e.value}),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":a}}),this.props.onSubmit(e)}},{"key":"onReset","value":function onReset(e){e.preventDefault(),this.props.onReset()}},{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.style;return r.j.createElement("form",{"className":t,"style":n,"onSubmit":this.onSubmit,"onReset":this.onReset},this.props.children)}}]),Form}(),l=n(28),u=n.n(l),p=n(26),A=n.n(p),f=n(27),d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var h=function(e){function AtLoading(){return function loading_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtLoading),function loading_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtLoading.__proto__||Object.getPrototypeOf(AtLoading)).apply(this,arguments))}return function loading_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtLoading,f["a"]),d(AtLoading,[{"key":"render","value":function render(){var e=this.props,t=e.color,n=e.size,a={"width":n?""+o.a.pxTransform(parseInt(n)):"","height":n?""+o.a.pxTransform(parseInt(n)):""},s={"border":t?"1px solid "+t:"","border-color":t?t+" transparent transparent transparent":""},c=Object.assign({},s,a);return r.j.createElement(i.a,{"className":"at-loading","style":a},r.j.createElement(i.a,{"className":"at-loading__ring","style":c}),r.j.createElement(i.a,{"className":"at-loading__ring","style":c}),r.j.createElement(i.a,{"className":"at-loading__ring","style":c}))}}]),AtLoading}();h.defaultProps={"size":0,"color":""},h.propTypes={"size":u.a.oneOfType([u.a.string,u.a.number]),"color":u.a.oneOfType([u.a.string,u.a.number])},n.d(t,"a",function(){return g});var y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var m={"normal":"normal","small":"small"},b={"primary":"primary","secondary":"secondary"},g=function(e){function AtButton(){!function button_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtButton);var e=function button_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtButton.__proto__||Object.getPrototypeOf(AtButton)).apply(this,arguments));return e.state={"isWEB":o.a.getEnv()===o.a.ENV_TYPE.WEB,"isWEAPP":o.a.getEnv()===o.a.ENV_TYPE.WEAPP,"isALIPAY":o.a.getEnv()===o.a.ENV_TYPE.ALIPAY},e}return function button_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtButton,f["a"]),y(AtButton,[{"key":"onClick","value":function onClick(){var e;this.props.disabled||this.props.onClick&&(e=this.props).onClick.apply(e,arguments)}},{"key":"onGetUserInfo","value":function onGetUserInfo(){var e;this.props.onGetUserInfo&&(e=this.props).onGetUserInfo.apply(e,arguments)}},{"key":"onContact","value":function onContact(){var e;this.props.onContact&&(e=this.props).onContact.apply(e,arguments)}},{"key":"onGetPhoneNumber","value":function onGetPhoneNumber(){var e;this.props.onGetPhoneNumber&&(e=this.props).onGetPhoneNumber.apply(e,arguments)}},{"key":"onError","value":function onError(){var e;this.props.onError&&(e=this.props).onError.apply(e,arguments)}},{"key":"onOpenSetting","value":function onOpenSetting(){var e;this.props.onOpenSetting&&(e=this.props).onOpenSetting.apply(e,arguments)}},{"key":"onSumit","value":function onSumit(){this.state.isWEAPP&&this.$scope.triggerEvent("submit",arguments[0].detail,{"bubbles":!0,"composed":!0})}},{"key":"onReset","value":function onReset(){this.state.isWEAPP&&this.$scope.triggerEvent("reset",arguments[0].detail,{"bubbles":!0,"composed":!0})}},{"key":"render","value":function render(){var e,t=this.props,n=t.size,o=void 0===n?"normal":n,s=t.type,l=void 0===s?"":s,u=t.circle,p=t.full,f=t.loading,d=t.disabled,y=t.customStyle,g=t.formType,v=t.openType,w=t.lang,C=t.sessionFrom,j=t.sendMessageTitle,_=t.sendMessagePath,k=t.sendMessageImg,I=t.showMessageCard,O=t.appParameter,P=this.state,E=P.isWEAPP,x=P.isALIPAY,T=["at-button"],S=(_defineProperty(e={},"at-button--"+m[o],m[o]),_defineProperty(e,"at-button--disabled",d),_defineProperty(e,"at-button--"+l,b[l]),_defineProperty(e,"at-button--circle",u),_defineProperty(e,"at-button--full",p),e),B="primary"===l?"#fff":"",D="small"===o?"30":0,N=void 0;f&&(N=r.j.createElement(i.a,{"className":"at-button__icon"},r.j.createElement(h,{"color":B,"size":D})),T.push("at-button--icon"));var M=r.j.createElement(a.a,{"className":"at-button__wxbutton","formType":g,"openType":v,"lang":w,"sessionFrom":C,"sendMessageTitle":j,"sendMessagePath":_,"sendMessageImg":k,"showMessageCard":I,"appParameter":O,"onGetUserInfo":this.onGetUserInfo.bind(this),"onGetPhoneNumber":this.onGetPhoneNumber.bind(this),"onOpenSetting":this.onOpenSetting.bind(this),"onError":this.onError.bind(this),"onContact":this.onContact.bind(this)});return r.j.createElement(i.a,{"className":A()(T,S,this.props.className),"style":y,"onClick":this.onClick.bind(this)},E&&!d&&r.j.createElement(c,{"reportSubmit":!0,"onSubmit":this.onSumit.bind(this),"onReset":this.onReset.bind(this)},M),x&&!d&&M,N,r.j.createElement(i.a,{"className":"at-button__text"},this.props.children))}}]),AtButton}();g.defaultProps={"size":"normal","type":"","circle":!1,"full":!1,"loading":!1,"disabled":!1,"customStyle":{},"onClick":function onClick(){},"formType":"","openType":"","lang":"en","sessionFrom":"","sendMessageTitle":"","sendMessagePath":"","sendMessageImg":"","showMessageCard":!1,"appParameter":"","onGetUserInfo":function onGetUserInfo(){},"onContact":function onContact(){},"onGetPhoneNumber":function onGetPhoneNumber(){},"onError":function onError(){},"onOpenSetting":function onOpenSetting(){}},g.propTypes={"size":u.a.oneOf(["normal","small"]),"type":u.a.oneOf(["primary","secondary",""]),"circle":u.a.bool,"full":u.a.bool,"loading":u.a.bool,"disabled":u.a.bool,"onClick":u.a.func,"customStyle":u.a.oneOfType([u.a.object,u.a.string]),"formType":u.a.oneOf(["submit","reset",""]),"openType":u.a.oneOf(["contact","share","getUserInfo","getPhoneNumber","launchApp","openSetting","feedback","getRealnameAuthInfo",""]),"lang":u.a.string,"sessionFrom":u.a.string,"sendMessageTitle":u.a.string,"sendMessagePath":u.a.string,"sendMessageImg":u.a.string,"showMessageCard":u.a.bool,"appParameter":u.a.string,"onGetUserInfo":u.a.func,"onContact":u.a.func,"onGetPhoneNumber":u.a.func,"onError":u.a.func,"onOpenSetting":u.a.func}},"170":function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(39),i=n(159),a=n(9),s=n(73),c=n(1),l=n(160),u=n(156),p=n(28),A=n.n(p),f=n(26),d=n.n(f),h=n(27),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var m=function(e){function AtDivider(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtDivider),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtDivider.__proto__||Object.getPrototypeOf(AtDivider)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtDivider,h["a"]),y(AtDivider,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.customStyle,r=e.content,a=e.height,s=e.fontColor,l=e.fontSize,u=e.lineColor,p={"height":a?""+c.a.pxTransform(a):""},A={"color":s,"font-size":l?""+c.a.pxTransform(l):""},f={"background-color":u};return o.j.createElement(i.a,{"className":d()("at-divider",t),"style":this.mergeStyle(p,n)},o.j.createElement(i.a,{"className":"at-divider__content","style":A},""===r?this.props.children:r),o.j.createElement(i.a,{"className":"at-divider__line","style":f}))}}]),AtDivider}();m.defaultProps={"content":"","height":0,"fontColor":"","fontSize":0,"lineColor":""},m.propTypes={"customStyle":A.a.oneOfType([A.a.object,A.a.string]),"className":A.a.oneOfType([A.a.array,A.a.string]),"content":A.a.string,"height":A.a.oneOfType([A.a.number,A.a.string]),"fontColor":A.a.string,"fontSize":A.a.oneOfType([A.a.number,A.a.string]),"lineColor":A.a.string};var b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var g=function(e){function AtCurtain(){return function curtain_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtCurtain),function curtain_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtCurtain.__proto__||Object.getPrototypeOf(AtCurtain)).apply(this,arguments))}return function curtain_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtCurtain,h["a"]),b(AtCurtain,[{"key":"onClose","value":function onClose(e){var t;e.stopPropagation(),(t=this.props).onClose.apply(t,arguments)}},{"key":"_stopPropagation","value":function _stopPropagation(e){e.stopPropagation()}},{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.customStyle,r=e.isOpened,a=e.closeBtnPosition,s=d()({"at-curtain":!0,"at-curtain--closed":!r},t),c=d()(function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}({"at-curtain__btn-close":!0},"at-curtain__btn-close--"+a,a));return o.j.createElement(i.a,{"className":s,"style":n,"onClick":this._stopPropagation},o.j.createElement(i.a,{"className":"at-curtain__container"},o.j.createElement(i.a,{"className":"at-curtain__body"},this.props.children,o.j.createElement(i.a,{"className":c,"onClick":this.onClose.bind(this)}))))}}]),AtCurtain}();g.defaultProps={"customStyle":"","className":"","isOpened":!1,"closeBtnPosition":"bottom","onClose":function onClose(){}},g.propTypes={"customStyle":A.a.oneOfType([A.a.object,A.a.string]),"className":A.a.oneOfType([A.a.array,A.a.string]),"isOpened":A.a.bool,"closeBtnPosition":A.a.string,"onClose":A.a.func};n(30);var v=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var w=function(e){function Label(){return function label_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Label),function label_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Label.__proto__||Object.getPrototypeOf(Label)).apply(this,arguments))}return function label_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Label,o["j"].Component),v(Label,[{"key":"render","value":function render(){var e=function _objectWithoutProperties(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(this.props,[]);return o.j.createElement("label",e,this.props.children)}}]),Label}(),C=n(34),j=(n(120),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),_=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function getTrueType(e,t,n){if(!e)throw new Error("unexpected type");return"search"===t&&(e="search"),n&&(e="password"),"digit"===e&&(e="number"),e}var k=function(e){function Input(){!function input_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Input);var e=function input_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function input_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,o["j"].Component),_(Input,[{"key":"componentDidMount","value":function componentDidMount(){"file"===this.props.type&&this.inputRef.addEventListener("change",this.onInput)}},{"key":"componentWillUnMount","value":function componentWillUnMount(){"file"===this.props.type&&this.inputRef.removeEventListener("change",this.onInput)}},{"key":"onInput","value":function onInput(e){var t=this.props,n=t.type,o=t.maxLength,r=t.confirmType,i=t.password,a=t.onInput,onInput=void 0===a?"":a,s=t.onChange,c=void 0===s?"":s;if(!this.isOnComposition&&!this.onInputExcuted){var l=e.target.value,u=getTrueType(n,r,i);if(this.onInputExcuted=!0,"number"===u&&l&&o<=l.length&&(l=l.substring(0,o),e.target.value=l),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":l}}),!(["number","file"].indexOf(u)>=0)){var p=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=p,e.target.selectionEnd=p})}if(c)return c(e);if(onInput)return onInput(e)}}},{"key":"onFocus","value":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onFocus&&onFocus(e)}},{"key":"onBlur","value":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onBlur&&onBlur(e)}},{"key":"onKeyDown","value":function onKeyDown(e){var t=this.props,n=t.onConfirm,onKeyDown=t.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&n&&(Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),n(e))}},{"key":"handleComposition","value":function handleComposition(e){e.target instanceof HTMLInputElement&&("compositionend"===e.type?(this.isOnComposition=!1,this.onInput(e)):this.isOnComposition=!0)}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.className,r=void 0===n?"":n,i=t.placeholder,a=t.type,s=void 0===a?"text":a,c=t.password,l=t.disabled,u=t.maxLength,p=t.confirmType,A=void 0===p?"":p,f=t.focus,h=void 0!==f&&f,y=t.value,m=d()("weui-input",r),b=Object(C.a)(this.props,["className","placeholder","disabled","max","onChange","onFocus","onBlur","type","focus"]);return"value"in this.props&&(b.value=function fixControlledValue(e){return void 0===e||null===e?"":e}(y)),o.j.createElement("input",j({"ref":function ref(t){e.inputRef=t,t&&h&&t.focus()}},b,{"className":m,"placeholder":i,"disabled":l,"maxlength":u,"onInput":this.onInput,"onFocus":this.onFocus,"onBlur":this.onBlur,"autofocus":h,"onKeyDown":this.onKeyDown,"type":getTrueType(s,A,c),"onCompositionStart":this.handleComposition,"onCompositionEnd":this.handleComposition}))}}]),Input}();k.defaultProps={"type":"text"};var I=k,O=n(161),P=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function components_input_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function AtInput(){var e,t,n;!function components_input_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtInput);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=n=components_input_possibleConstructorReturn(this,(e=AtInput.__proto__||Object.getPrototypeOf(AtInput)).call.apply(e,[this].concat(r))),n.onInput=function(e){for(var t,o=arguments.length,r=Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return(t=n.props).onChange.apply(t,[e.target.value].concat(r))},n.onFocus=function(e){for(var t,o=arguments.length,r=Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return(t=n.props).onFocus.apply(t,[e.target.value].concat(r))},n.onBlur=function(e){for(var t,o=arguments.length,r=Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return(t=n.props).onBlur.apply(t,[e.target.value].concat(r))},n.onConfirm=function(e){for(var t,o=arguments.length,r=Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];return(t=n.props).onConfirm.apply(t,[e.target.value].concat(r))},n.onClick=function(){var e;return!n.props.editable&&(e=n.props).onClick.apply(e,arguments)},n.clearValue=function(){for(var e,t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=n.props).onChange.apply(e,[""].concat(o))},n.onErrorClick=function(){var e;return(e=n.props).onErrorClick.apply(e,arguments)},components_input_possibleConstructorReturn(n,t)}return function components_input_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtInput,h["a"]),P(AtInput,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.customStyle,r=e.name,a=e.cursorSpacing,s=e.confirmType,c=e.cursor,l=e.selectionStart,u=e.selectionEnd,p=e.adjustPosition,A=e.border,f=e.title,h=e.error,y=e.clear,m=e.placeholder,b=e.placeholderStyle,g=e.placeholderClass,v=e.autoFocus,C=e.focus,j=e.value,_=function getInputProps(e){var t={"type":e.type,"maxLength":e.maxLength,"disabled":e.disabled,"password":!1};switch(t.type){case"phone":t.type="number",t.maxLength=11;break;case"password":t.password=!0}return e.disabled||e.editable||(t.disabled=!0),t}(this.props),k=_.type,P=_.maxLength,E=_.disabled,x=_.password,T=d()("at-input",{"at-input--without-border":!A},t),S=d()("at-input__container",{"at-input--error":h,"at-input--disabled":E}),B=d()("at-input__overlay",{"at-input__overlay--hidden":!E}),D=d()("placeholder",g);return o.j.createElement(i.a,{"className":T,"style":n},o.j.createElement(i.a,{"className":S},o.j.createElement(i.a,{"className":B,"onClick":this.onClick}),f&&o.j.createElement(w,{"className":"at-input__title","for":r},f),o.j.createElement(I,{"className":"at-input__input","id":r,"name":r,"type":k,"password":x,"placeholderStyle":b,"placeholderClass":D,"placeholder":m,"cursorSpacing":a,"maxLength":P,"autoFocus":v,"focus":C,"value":j,"confirmType":s,"cursor":c,"selectionStart":l,"selectionEnd":u,"adjustPosition":p,"onInput":this.onInput,"onFocus":this.onFocus,"onBlur":this.onBlur,"onConfirm":this.onConfirm}),y&&j&&o.j.createElement(i.a,{"className":"at-input__icon","onTouchStart":this.clearValue},o.j.createElement(O.a,{"className":"at-icon at-icon-close-circle at-input__icon-close"})),h&&o.j.createElement(i.a,{"className":"at-input__icon","onTouchStart":this.onErrorClick},o.j.createElement(O.a,{"className":"at-icon at-icon-alert-circle at-input__icon-alert"})),o.j.createElement(i.a,{"className":"at-input__children"},this.props.children)))}}]),AtInput}();E.defaultProps={"className":"","customStyle":"","value":"","name":"","placeholder":"","placeholderStyle":"","placeholderClass":"","title":"","cursorSpacing":50,"confirmType":"完成","cursor":0,"selectionStart":-1,"selectionEnd":-1,"adjustPosition":!0,"maxLength":140,"type":"text","disabled":!1,"border":!0,"editable":!0,"error":!1,"clear":!1,"autoFocus":!1,"focus":!1,"onChange":function onChange(){},"onFocus":function onFocus(){},"onBlur":function onBlur(){},"onConfirm":function onConfirm(){},"onErrorClick":function onErrorClick(){},"onClick":function onClick(){}},E.propTypes={"className":A.a.oneOfType([A.a.string,A.a.array]),"customStyle":A.a.oneOfType([A.a.string,A.a.object]),"value":A.a.oneOfType([A.a.string,A.a.number]),"name":A.a.string,"placeholder":A.a.string,"placeholderStyle":A.a.string,"placeholderClass":A.a.string,"title":A.a.string,"confirmType":A.a.string,"cursor":A.a.oneOfType([A.a.string,A.a.number]),"selectionStart":A.a.oneOfType([A.a.string,A.a.number]),"selectionEnd":A.a.oneOfType([A.a.string,A.a.number]),"adjustPosition":A.a.bool,"cursorSpacing":A.a.oneOfType([A.a.string,A.a.number]),"maxLength":A.a.oneOfType([A.a.string,A.a.number]),"type":A.a.string,"disabled":A.a.bool,"border":A.a.bool,"editable":A.a.bool,"error":A.a.bool,"clear":A.a.bool,"backgroundColor":A.a.string,"autoFocus":A.a.bool,"focus":A.a.bool,"onChange":A.a.func,"onFocus":A.a.func,"onBlur":A.a.func,"onConfirm":A.a.func,"onErrorClick":A.a.func,"onClick":A.a.func};n(83);var x=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var S=function(e){function UnLoggedInView(){return function unlogged_in_view_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UnLoggedInView),function unlogged_in_view_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(UnLoggedInView.__proto__||Object.getPrototypeOf(UnLoggedInView)).apply(this,arguments))}return function unlogged_in_view_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(UnLoggedInView,c["a"].Component),T(UnLoggedInView,[{"key":"render","value":function render(){var e=this.props,t=c.a.useState(!1),n=x(t,2),r=n[0],a=n[1],s=c.a.useState(""),p=x(s,2),A=p[0],f=p[1],d=function hideTokenModal(){return a(!1)};return o.j.createElement(i.a,{"className":"container-main"},o.j.createElement(l.a,null),o.j.createElement(u.a,{"type":"primary","onClick":e.login,"loading":e.index.loading},c.a.getEnv()===c.a.ENV_TYPE.WEB?"微软 AD 账号":"",c.a.getEnv()===c.a.ENV_TYPE.WEAPP&&"微信授权登录"),o.j.createElement(m,null),c.a.getEnv()===c.a.ENV_TYPE.WEB?o.j.createElement(u.a,{"onClick":e.citiLogin.bind(this),"loading":e.index.loading},"花旗账号登录"):null,o.j.createElement(m,null),o.j.createElement(u.a,{"onClick":function showTokenModal(){return a(!0)},"loading":e.index.loading},"令牌登录"),o.j.createElement(g,{"isOpened":r,"onClose":d,"closeBtnPosition":"top-right"},o.j.createElement(E,{"autoFocus":!0,"focus":!0,"name":"token","title":"请输入令牌","type":"text","placeholder":"令牌","value":A,"onChange":function onChange(e){f(String(e))}}),o.j.createElement(m,null),o.j.createElement(u.a,{"type":"primary","onClick":function onClick(){e.tokenLogin(A),d()}},"登录")))}}]),UnLoggedInView}(),B=n(165),D=(n(42),n(56)),N=n(37),M=n(3),F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},L=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var R=function noop(){},Q=function(){function Toast(){!function toast_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Toast),this.options={"title":"","icon":"none","image":"","duration":1500,"mask":!1,"success":R,"fail":R,"complete":R},this.style={"maskStyle":{"position":"fixed","z-index":"1000","top":"0","right":"0","left":"0","bottom":"0"},"toastStyle":{"z-index":"5000","box-sizing":"border-box","display":"flex","flex-direction":"column","justify-content":"center","-webkit-justify-content":"center","position":"fixed","top":"50%","left":"50%","min-width":"120px","max-width":"200px","min-height":"120px","padding":"15px","transform":"translate(-50%, -50%)","border-radius":"5px","text-align":"center","line-height":"1.6","color":"#FFFFFF","background":"rgba(17, 17, 17, 0.7)"},"successStyle":{"margin":"0","vertical-align":"middle","font-family":"taro","-webkit-font-smoothing":"antialiased","color":"#FFFFFF","font-size":"55px","line-height":"1"},"loadingStyle":{"margin":"6px auto","width":"38px","height":"38px","-webkit-animation":"taroLoading 1s steps(12, end) infinite","animation":"taroLoading 1s steps(12, end) infinite","background":"transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=) no-repeat","background-size":"100%"},"imageStyle":{"margin":"6px auto","width":"40px","height":"40px","background":"transparent no-repeat","background-size":"100%"},"textStyle":{"margin":"0","font-size":"16px"}}}return L(Toast,[{"key":"create","value":function create(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.style,o=n.maskStyle,r=n.toastStyle,i=n.successStyle,a=n.loadingStyle,s=n.imageStyle,c=n.textStyle,l=F({},this.options,t);if(this.el=document.createElement("div"),this.el.className="taro__toast",this.el.style.opacity="0",this.el.style.transition="opacity 0.1s linear",this.mask=document.createElement("div"),this.mask.setAttribute("style",Object(M.e)(o)),this.mask.style.display=l.mask?"block":"none",this.icon=document.createElement("p"),l.image)this.icon.setAttribute("style",Object(M.e)(F({},s,{"background-image":"url("+l.image+")"})));else{var u="loading"===l.icon?a:i;this.icon.setAttribute("style",Object(M.e)(F({},u,"none"===l.icon?{"display":"none"}:{}))),"loading"!==l.icon&&(this.icon.textContent="")}this.toast=document.createElement("div"),this.toast.setAttribute("style",Object(M.e)(F({},r,"none"===l.icon?{"min-height":"0","padding":"10px 15px"}:{}))),this.title=document.createElement("p"),this.title.setAttribute("style",Object(M.e)(c)),this.title.textContent=l.title,this.toast.appendChild(this.icon),this.toast.appendChild(this.title),this.el.appendChild(this.mask),this.el.appendChild(this.toast),document.body.appendChild(this.el),setTimeout(function(){e.el.style.opacity="1"},0),this.type=l._type,l.duration>=0&&this.hide(l.duration,this.type);var p="loading"===this.type?"showLoading:ok":"showToast:ok";return l.success&&l.success({"errMsg":p}),l.complete&&l.complete({"errMsg":p}),Promise.resolve({"errMsg":p})}},{"key":"show","value":function show(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=F({},this.options,t);this.hideOpacityTimer&&clearTimeout(this.hideOpacityTimer),this.hideDisplayTimer&&clearTimeout(this.hideDisplayTimer),this.title.textContent=n.title||"",this.mask.style.display=n.mask?"block":"none";var o=this.style,r=o.toastStyle,i=o.successStyle,a=o.loadingStyle,s=o.imageStyle;if(n.image)this.icon.setAttribute("style",Object(M.e)(F({},s,{"background-image":"url("+n.image+")"}))),this.icon.textContent="";else if(!n.image&&n.icon){var c="loading"===n.icon?a:i;this.icon.setAttribute("style",Object(M.e)(F({},c,"none"===n.icon?{"display":"none"}:{}))),this.icon.textContent="loading"===n.icon?"":""}this.toast.setAttribute("style",Object(M.e)(F({},r,"none"===n.icon?{"min-height":"0","padding":"10px 15px"}:{}))),this.el.style.display="block",setTimeout(function(){e.el.style.opacity="1"},0),this.type=n._type,n.duration>=0&&this.hide(n.duration,this.type);var l="loading"===this.type?"showLoading:ok":"showToast:ok";return n.success&&n.success({"errMsg":l}),n.complete&&n.complete({"errMsg":l}),Promise.resolve({"errMsg":l})}},{"key":"hide","value":function hide(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments[1];this.type===n&&(this.hideOpacityTimer&&clearTimeout(this.hideOpacityTimer),this.hideDisplayTimer&&clearTimeout(this.hideDisplayTimer),this.hideOpacityTimer=setTimeout(function(){e.el.style.opacity="0",e.hideDisplayTimer=setTimeout(function(){e.el.style.display="none"},100)},t))}}]),Toast}(),G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},H=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var U=function noop(){},Z=function(){function Modal(){!function modal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Modal),this.options={"title":"","content":"","showCancel":!0,"cancelText":"取消","cancelColor":"#000000","confirmText":"确定","confirmColor":"#3CC51F","success":U,"fail":U,"complete":U},this.style={"maskStyle":{"position":"fixed","z-index":"1000","top":"0","right":"0","left":"0","bottom":"0","background":"rgba(0,0,0,0.6)"},"modalStyle":{"z-index":"4999","position":"fixed","top":"50%","left":"50%","transform":"translate(-50%, -50%)","width":"80%","max-width":"300px","border-radius":"3px","text-align":"center","line-height":"1.6","overflow":"hidden","background":"#FFFFFF"},"titleStyle":{"padding":"20px 24px 9px","font-size":"18px"},"textStyle":{"padding":"0 24px 12px","min-height":"40px","font-size":"15px","line-height":"1.3","color":"#808080"},"footStyle":{"position":"relative","line-height":"48px","font-size":"18px","display":"flex"},"btnStyle":{"position":"relative","-webkit-box-flex":"1","-webkit-flex":"1","flex":"1"}}}return H(Modal,[{"key":"create","value":function create(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.style,o=n.maskStyle,r=n.modalStyle,i=n.titleStyle,a=n.textStyle,s=n.footStyle,c=n.btnStyle,l=G({},this.options,t);this.el=document.createElement("div"),this.el.className="taro__modal",this.el.style.opacity="0",this.el.style.transition="opacity 0.2s linear";var u=document.createElement("div");u.setAttribute("style",Object(M.e)(o));var p=document.createElement("div");p.setAttribute("style",Object(M.e)(r));var A=l.title?i:G({},i,{"display":"none"});this.title=document.createElement("div"),this.title.setAttribute("style",Object(M.e)(A)),this.title.textContent=l.title;var f=l.title?a:G({},a,{"padding":"40px 20px 26px","color":"#353535"});this.text=document.createElement("div"),this.text.setAttribute("style",Object(M.e)(f)),this.text.textContent=l.content;var d=document.createElement("div");d.className="taro-modal__foot",d.setAttribute("style",Object(M.e)(s));var h=G({},c,{"color":l.cancelColor,"display":l.showCancel?"block":"none"});return this.cancel=document.createElement("div"),this.cancel.className="taro-model__btn",this.cancel.setAttribute("style",Object(M.e)(h)),this.cancel.textContent=l.cancelText,this.cancel.onclick=function(){e.hide();var t=e.getRes("cancel");l.success(t),l.complete(t),e.resolveHandler(t)},this.confirm=document.createElement("div"),this.confirm.className="taro-model__btn",this.confirm.setAttribute("style",Object(M.e)(c)),this.confirm.style.color=l.confirmColor,this.confirm.textContent=l.confirmText,this.confirm.onclick=function(){e.hide();var t=e.getRes("confirm");l.success(t),l.complete(t),e.resolveHandler(t)},d.appendChild(this.cancel),d.appendChild(this.confirm),p.appendChild(this.title),p.appendChild(this.text),p.appendChild(d),this.el.appendChild(u),this.el.appendChild(p),document.body.appendChild(this.el),setTimeout(function(){e.el.style.opacity="1"},0),new Promise(function(t){return e.resolveHandler=t})}},{"key":"getRes","value":function getRes(e){var t={"errMsg":"showModal:ok","cancel":!1,"confirm":!1};return t[e]=!0,t}},{"key":"show","value":function show(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=G({},this.options,t);this.hideOpacityTimer&&clearTimeout(this.hideOpacityTimer),this.hideDisplayTimer&&clearTimeout(this.hideDisplayTimer);var o=this.style.textStyle;if(n.title)this.title.textContent=n.title,this.title.style.display="block",this.text.setAttribute("style",Object(M.e)(o));else{this.title.style.display="none";var r=G({},o,{"padding":"40px 20px 26px","color":"#353535"});this.text.setAttribute("style",Object(M.e)(r))}return this.text.textContent=n.content||"",this.cancel.style.display=n.showCancel?"block":"none",this.cancel.textContent=n.cancelText||"",this.cancel.style.color=n.cancelColor||void 0,this.confirm.textContent=n.confirmText||"",this.confirm.style.color=n.confirmColor||void 0,this.cancel.onclick=function(){e.hide();var t=e.getRes("cancel");n.success(t),n.complete(t),e.resolveHandler(t)},this.confirm.onclick=function(){e.hide();var t=e.getRes("confirm");n.success(t),n.complete(t),e.resolveHandler(t)},this.el.style.display="block",setTimeout(function(){e.el.style.opacity="1"},0),new Promise(function(t){return e.resolveHandler=t})}},{"key":"hide","value":function hide(){var e=this;this.hideOpacityTimer&&clearTimeout(this.hideOpacityTimer),this.hideDisplayTimer&&clearTimeout(this.hideDisplayTimer),this.hideOpacityTimer=setTimeout(function(){e.el.style.opacity="0",e.hideDisplayTimer=setTimeout(function(){e.el.style.display="none"},200)},0)}}]),Modal}(),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},W=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var J=function noop(){},Y=function(){function ActionSheet(){!function actionSheet_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ActionSheet),this.options={"itemList":[],"itemColor":"#000000","success":J,"fail":J,"complete":J},this.style={"maskStyle":{"position":"fixed","z-index":"1000","top":"0","right":"0","left":"0","bottom":"0","background":"rgba(0,0,0,0.6)"},"actionSheetStyle":{"z-index":"4999","position":"fixed","left":"0","bottom":"0","-webkit-transform":"translate(0, 100%)","transform":"translate(0, 100%)","width":"100%","line-height":"1.6","background":"#EFEFF4","-webkit-transition":"-webkit-transform .3s","transition":"transform .3s"},"menuStyle":{"background-color":"#FCFCFD"},"cellStyle":{"position":"relative","padding":"10px 0","text-align":"center","font-size":"18px"},"cancelStyle":{"margin-top":"6px","padding":"10px 0","text-align":"center","font-size":"18px","color":"#000000","background-color":"#FCFCFD"}},this.lastConfig={}}return W(ActionSheet,[{"key":"create","value":function create(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.style,o=n.maskStyle,r=n.actionSheetStyle,i=n.menuStyle,a=n.cellStyle,s=n.cancelStyle,c=z({},this.options,t);this.lastConfig=c,this.el=document.createElement("div"),this.el.className="taro__actionSheet",this.el.style.opacity="0",this.el.style.transition="opacity 0.2s linear";var l=document.createElement("div");l.setAttribute("style",Object(M.e)(o)),this.actionSheet=document.createElement("div"),this.actionSheet.setAttribute("style",Object(M.e)(r)),this.menu=document.createElement("div"),this.menu.setAttribute("style",Object(M.e)(z({},i,{"color":c.itemColor}))),this.cells=c.itemList.map(function(t,n){var o=document.createElement("div");return o.className="taro-actionsheet__cell",o.setAttribute("style",Object(M.e)(a)),o.textContent=t,o.dataset.tapIndex=n,o.onclick=function(t){return e.onCellClick(t)},o}),this.cancel=document.createElement("div"),this.cancel.setAttribute("style",Object(M.e)(s)),this.cancel.textContent="取消",this.cells.forEach(function(t){return e.menu.appendChild(t)}),this.actionSheet.appendChild(this.menu),this.actionSheet.appendChild(this.cancel),this.el.appendChild(l),this.el.appendChild(this.actionSheet);var u=function cb(){e.hide();var t={"errMsg":"showActionSheet:fail cancel"};c.fail(t),c.complete(t),e.rejectHandler(t)};return l.onclick=u,this.cancel.onclick=u,document.body.appendChild(this.el),setTimeout(function(){e.el.style.opacity="1",Object(M.h)(e.actionSheet,"translate(0, 0)")},0),new Promise(function(t,n){e.resolveHandler=t,e.rejectHandler=n})}},{"key":"show","value":function show(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=z({},this.options,t);this.lastConfig=n,this.hideOpacityTimer&&clearTimeout(this.hideOpacityTimer),this.hideDisplayTimer&&clearTimeout(this.hideDisplayTimer),n.itemColor&&(this.menu.style.color=n.itemColor);var o=this.style.cellStyle;n.itemList.forEach(function(t,n){var r=void 0;e.cells[n]?r=e.cells[n]:((r=document.createElement("div")).className="taro-actionsheet__cell",r.setAttribute("style",Object(M.e)(o)),r.dataset.tapIndex=n,e.cells.push(r),e.menu.appendChild(r)),r.textContent=t,r.onclick=function(t){return e.onCellClick(t)}});var r=this.cells.length,i=n.itemList.length;if(r>i){for(var a=i;a<r;a++)this.menu.removeChild(this.cells[a]);this.cells.splice(i)}return this.el.style.display="block",setTimeout(function(){e.el.style.opacity="1",Object(M.h)(e.actionSheet,"translate(0, 0)")},0),new Promise(function(t,n){e.resolveHandler=t,e.rejectHandler=n})}},{"key":"onCellClick","value":function onCellClick(e){this.hide(),console.log("click");var t={"errMsg":"showActionSheet:ok","tapIndex":+e.currentTarget.dataset.tapIndex};this.lastConfig.success&&this.lastConfig.success(t),this.lastConfig.complete&&this.lastConfig.complete(t),this.resolveHandler(t)}},{"key":"hide","value":function hide(){var e=this;this.hideOpacityTimer&&clearTimeout(this.hideOpacityTimer),this.hideDisplayTimer&&clearTimeout(this.hideDisplayTimer),this.hideOpacityTimer=setTimeout(function(){e.el.style.opacity="0",Object(M.h)(e.actionSheet,"translate(0, 100%)"),e.hideDisplayTimer=setTimeout(function(){e.el.style.display="none"},200)},0)}}]),ActionSheet}(),V=n(10),K="default";function init(e){if("ready"!==K){var t=e.createElement("style");t.textContent='@font-face{font-weight:normal;font-style:normal;font-family:"taro";src:url("data:application/x-font-ttf;charset=utf-8;base64, AAEAAAALAIAAAwAwR1NVQrD+s+0AAAE4AAAAQk9TLzJWs0t/AAABfAAAAFZjbWFwqVgGvgAAAeAAAAGGZ2x5Zph7qG0AAANwAAAAdGhlYWQRFoGhAAAA4AAAADZoaGVhCCsD7AAAALwAAAAkaG10eAg0AAAAAAHUAAAADGxvY2EADAA6AAADaAAAAAhtYXhwAQ4AJAAAARgAAAAgbmFtZYrphEEAAAPkAAACVXBvc3S3shtSAAAGPAAAADUAAQAAA+gAAABaA+gAAAAAA+gAAQAAAAAAAAAAAAAAAAAAAAMAAQAAAAEAAADih+FfDzz1AAsD6AAAAADXB57LAAAAANcHnssAAP/sA+gDOgAAAAgAAgAAAAAAAAABAAAAAwAYAAEAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKAB4ALAABREZMVAAIAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAAAAQK8AZAABQAIAnoCvAAAAIwCegK8AAAB4AAxAQIAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABAAHjqCAPoAAAAWgPoABQAAAABAAAAAAAAA+gAAABkAAAD6AAAAAAABQAAAAMAAAAsAAAABAAAAV4AAQAAAAAAWAADAAEAAAAsAAMACgAAAV4ABAAsAAAABgAEAAEAAgB46gj//wAAAHjqCP//AAAAAAABAAYABgAAAAEAAgAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAKAAAAAAAAAACAAAAeAAAAHgAAAABAADqCAAA6ggAAAACAAAAAAAAAAwAOgABAAD/7AAyABQAAgAANzMVFB4UKAAAAAABAAAAAAO7AzoAFwAAEy4BPwE+AR8BFjY3ATYWFycWFAcBBiInPQoGBwUHGgzLDCELAh0LHwsNCgr9uQoeCgGzCyEOCw0HCZMJAQoBvgkCCg0LHQv9sQsKAAAAAAAAEgDeAAEAAAAAAAAAHQAAAAEAAAAAAAEABAAdAAEAAAAAAAIABwAhAAEAAAAAAAMABAAoAAEAAAAAAAQABAAsAAEAAAAAAAUACwAwAAEAAAAAAAYABAA7AAEAAAAAAAoAKwA/AAEAAAAAAAsAEwBqAAMAAQQJAAAAOgB9AAMAAQQJAAEACAC3AAMAAQQJAAIADgC/AAMAAQQJAAMACADNAAMAAQQJAAQACADVAAMAAQQJAAUAFgDdAAMAAQQJAAYACADzAAMAAQQJAAoAVgD7AAMAAQQJAAsAJgFRCiAgQ3JlYXRlZCBieSBmb250LWNhcnJpZXIKICB3ZXVpUmVndWxhcndldWl3ZXVpVmVyc2lvbiAxLjB3ZXVpR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20ACgAgACAAQwByAGUAYQB0AGUAZAAgAGIAeQAgAGYAbwBuAHQALQBjAGEAcgByAGkAZQByAAoAIAAgAHcAZQB1AGkAUgBlAGcAdQBsAGEAcgB3AGUAdQBpAHcAZQB1AGkAVgBlAHIAcwBpAG8AbgAgADEALgAwAHcAZQB1AGkARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAAIAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwECAQMBBAABeAd1bmlFQTA4AAAAAAA=") format("truetype");}@-webkit-keyframes taroLoading{0%{-webkit-transform:rotate3d(0, 0, 1, 0deg);}100%{-webkit-transform:rotate3d(0, 0, 1, 360deg);transform:rotate3d(0, 0, 1, 360deg);}}@keyframes taroLoading{0%{-webkit-transform:rotate3d(0, 0, 1, 0deg);}100%{-webkit-transform:rotate3d(0, 0, 1, 360deg);transform:rotate3d(0, 0, 1, 360deg);}}.taro-modal__foot:after {content: "";position: absolute;left: 0;top: 0;right: 0;height: 1px;border-top: 1px solid #D5D5D6;color: #D5D5D6;-webkit-transform-origin: 0 0;transform-origin: 0 0;-webkit-transform: scaleY(0.5);transform: scaleY(0.5);} .taro-model__btn:active {background-color: #EEEEEE}.taro-model__btn:not(:first-child):after {content: "";position: absolute;left: 0;top: 0;width: 1px;bottom: 0;border-left: 1px solid #D5D5D6;color: #D5D5D6;-webkit-transform-origin: 0 0;transform-origin: 0 0;-webkit-transform: scaleX(0.5);transform: scaleX(0.5);}.taro-actionsheet__cell:not(:first-child):after {content: "";position: absolute;left: 0;top: 0;right: 0;height: 1px;border-top: 1px solid #e5e5e5;color: #e5e5e5;-webkit-transform-origin: 0 0;transform-origin: 0 0;-webkit-transform: scaleY(0.5);transform: scaleY(0.5);}',e.querySelector("head").appendChild(t),K="ready"}}var X=new Q,q=new Z;new Y;function showToast(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};init(document);(e=Object.assign({},{"title":"","icon":"success","image":"","duration":1500,"mask":!1},e))._type="toast";var t=Object(M.c)(e.fail,e.complete);return"string"!=typeof e.title?t({"errMsg":Object(M.d)({"name":"showToast","para":"title","correct":"String","wrong":e.title})}):"number"!=typeof e.duration?t({"errMsg":Object(M.d)({"name":"showToast","para":"duration","correct":"Number","wrong":e.duration})}):(e.image&&"string"!=typeof e.image&&(e.image=""),e.mask=!!e.mask,X.el?X.show(e):X.create(e))}V.a.eventCenter.on("__taroRouterChange",function(){!function hideToast(){X.el&&X.hide(0,"toast")}(),function hideLoading(){X.el&&X.hide(0,"loading")}(),function hideModal(){q.el&&q.hide()}()});document.addEventListener("copy",function(){Object(s.c)({"key":"taro_clipboard","data":window.getSelection().toString()}).catch(function(e){console.error(e)})});var $=function setClipboardData(e){var t=e.data,n=e.success,o=e.fail,r=e.complete;return new Promise(function(e,i){Object(s.c)({"key":"taro_clipboard","data":t}).then(function(){if("function"!=typeof document.execCommand)throw new Error("Unsupported Function: 'document.execCommand'.");var o=document.createElement("input");o.readOnly=!0,o.value=t,o.style.position="absolute",o.style.width="100px",o.style.left="-10000px",document.body.appendChild(o),o.select(),o.setSelectionRange(0,o.value.length),document.execCommand("copy"),document.body.removeChild(o);var i={"errMsg":"setClipboardData:ok","data":t};n&&n(i),r&&r(),e(i)}).catch(function(e){var t={"errMsg":"setClipboardData:fail "+e.message};o&&o(t),r&&r(),i(t)})})},ee=n(129),te=n(157),ne=n(72),oe=(n(127),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),re=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var ie=function(e){function UserCard(e){!function user_card_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserCard);var t=function user_card_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(UserCard.__proto__||Object.getPrototypeOf(UserCard)).call(this,e));return"citi"===e.user.provider&&(t.state={"profile":JSON.parse(e.user.profile)}),t}return function user_card_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(UserCard,c["a"].Component),re(UserCard,[{"key":"render","value":function render(){return this.props.user&&(this.props.user.idToken&&this.props.user.idToken.emails?o.j.createElement(ee.a,null,this.props.user.idToken.emails.map(function(e){return o.j.createElement(te.a,{"title":e,"key":e})})):o.j.createElement(ne.a,{"title":this.props.user.display_name,"note":this.props.user.createdAt,"thumb":"https://sandbox.apihub.citi.com/gcb/authCode/resources/images/Citi-Enterprise-White.png","extra":this.state.profile?this.state.profile.customerType:""},this.renderObject(this.state.profile)))}},{"key":"renderObject","value":function renderObject(e){var t=this;if(!e)return"";return o.j.createElement(i.a,{"className":"at-article"},Object.keys(e).map(function renderThat(n){return t.renderIt(e[n],n)}))}},{"key":"renderIt","value":function renderIt(e,t){switch(void 0===e?"undefined":oe(e)){case"string":return o.j.createElement(i.a,{"className":"at-article__h3"},t,": ",e);case"object":return o.j.createElement(i.a,{"className":"at-article__section"},o.j.createElement(i.a,{"className":"at-article__h3"},t),this.renderObject(e));default:return null}}}]),UserCard}(),ae=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var se=function(e){function LoggedInCard(){return function logged_in_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoggedInCard),function logged_in_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(LoggedInCard.__proto__||Object.getPrototypeOf(LoggedInCard)).apply(this,arguments))}return function logged_in_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(LoggedInCard,c["a"].Component),ae(LoggedInCard,[{"key":"render","value":function render(){var e=this.props;return o.j.createElement(ie,{"user":e.user})}}]),LoggedInCard}(),ce=n(139),le=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var ue=function(e){function LoggedInView(e){return function logged_in_view_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoggedInView),function logged_in_view_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(LoggedInView.__proto__||Object.getPrototypeOf(LoggedInView)).call(this,e))}return function logged_in_view_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(LoggedInView,c["a"].Component),le(LoggedInView,[{"key":"issueToken","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(){var e,t;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(e=Object(s.b)("token")){n.next=5;break}return n.next=4,showToast({"title":"操作失败，请重新登录后再试。","icon":"none","duration":3e3});case 4:return n.abrupt("return");case 5:return t=ce.homepage+"pages/callback/citi?token="+e.token+"&traceId="+e.traceId,console.log("link = ",t),n.prev=7,n.next=10,$({"data":t});case 10:return n.next=12,showToast({"title":t,"icon":"success","duration":2e3});case 12:n.next=19;break;case 14:return n.prev=14,n.t0=n.catch(7),console.error(n.t0),n.next=19,showToast({"title":t,"icon":"none","duration":6e3});case 19:case"end":return n.stop()}},_callee,this,[[7,14]])}));return function issueToken(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){return o.j.createElement(i.a,null,o.j.createElement(se,{"user":this.props.index.user}),o.j.createElement(m,null),o.j.createElement(u.a,{"type":"primary","onClick":this.issueToken.bind(this),"loading":this.state.issueInProgress},"颁发令牌"),o.j.createElement(m,null),o.j.createElement(u.a,{"type":"primary","onClick":this.props.logout,"loading":this.props.index.loading},"退出登录"))}}]),LoggedInView}(),pe=n(59),Ae=(n(150),n(38)),fe=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),de=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,n)}if("value"in o)return o.value;var i=o.get;return void 0!==i?i.call(n):void 0};var he=function(e){function Index(){!function index_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function index_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationBarTitleText":"我的个人中心"},e.state={"popup":null,"showDrawer":!1},e}return function index_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,c["a"].Component),fe(Index,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){console.log(this.props,e)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":function componentDidShow(){this.props.setUser(pe.a.get()||Object(s.b)("userInfo"))}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"handleClick","value":function handleClick(){console.log(arguments)}},{"key":"showDrawer","value":function showDrawer(){this.setState({"showDrawer":!0})}},{"key":"onCloseDrawer","value":function onCloseDrawer(){this.setState({"showDrawer":!1})}},{"key":"render","value":function render(){return o.j.createElement(i.a,{"className":"index"},o.j.createElement(B.a,{"onClickRgIconSt":this.showDrawer.bind(this),"onClickRgIconNd":this.handleClick,"onClickLeftIcon":this.handleClick,"color":"#000","title":"我的个人中心","leftText":"返回","leftIconType":"chevron-left","rightFirstIconType":"bullet-list","rightSecondIconType":"user"}),o.j.createElement(i.a,{"className":"container"},this.props.index.user?o.j.createElement(ue,this.props):o.j.createElement(S,this.props)),o.j.createElement(Ae.a,{"show":this.state.showDrawer,"onClose":this.onCloseDrawer.bind(this)}))}},{"key":"componentDidMount","value":function componentDidMount(){de(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&de(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}}]),Index}();he=Object(r.__decorate)([Object(a.b)(function(e){return{"index":e.index}},function(e){return{"login":function login(){e(Object(N.b)()),pe.a.login().then(function(t){return e(Object(N.e)(t))})},"logout":function logout(){e(Object(N.d)()),Object(s.d)("userInfo",null),pe.a.logout(),e(Object(N.e)(null))},"setUser":function setUser(t){e(Object(N.e)(t))},"citiLogin":function citiLogin(){Object(D.a)(e)},"tokenLogin":function tokenLogin(t){e(Object(N.b)()),pe.a.loginByToken(e)({"token":t}).then()}}})],he);t.default=he},"37":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c});var o=n(6),r=function login(){return{"type":o.c}},i=function logout(){return{"type":o.d}},a=function setUser(e){return{"type":o.e,"user":e}},s=function loggedIn(e){return{"type":o.a,"token":e}},c=function loginCancelled(){return{"type":o.b}}},"38":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(0),r=n(164),i=n(1),a=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=new Map([["账号信息","/"],["账号绑定","/pages/accounts/bind"],["卡片信息","/pages/cards/cards"],["产品列表","/pages/cards/product-list"]]),c=function(e){function Drawer(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Drawer),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Drawer.__proto__||Object.getPrototypeOf(Drawer)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Drawer,i["a"].Component),a(Drawer,[{"key":"render","value":function render(){var e,t=this,n=this.props,a=(e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.navigateTo({"url":[].concat(_toConsumableArray(s.values()))[e]});case 2:case"end":return t.stop()}},_callee,t)})),function onItemClick(t){return e.apply(this,arguments)});return o.j.createElement(r.a,{"show":n.show,"right":!0,"mask":!0,"onClose":n.onClose,"items":[].concat(_toConsumableArray(s.keys())),"onItemClick":a})}}]),Drawer}()},"40":function(e,t,n){var o=n(41);"string"==typeof o&&(o=[[e.i,o,""]]);var r={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(36)(o,r);o.locals&&(e.exports=o.locals)},"41":function(e,t,n){(e.exports=n(35)(!1)).push([e.i,"button {\n  position: relative;\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 14px;\n  padding-right: 14px;\n  box-sizing: border-box;\n  font-size: 18px;\n  text-align: center;\n  text-decoration: none;\n  line-height: 2.55555556;\n  border-radius: 5px;\n  -webkit-tap-highlight-color: transparent;\n  overflow: hidden;\n  color: #000000;\n  background-color: #F8F8F8;\n}\n\nbutton[plain] {\n  color: #353535;\n  border: 1px solid #353535;\n  background-color: transparent;\n}\n\nbutton[plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}\n\nbutton[type=primary] {\n  color: #FFFFFF;\n  background-color: #1AAD19;\n}\n\nbutton[type=primary][plain] {\n  color: #1aad19;\n  border: 1px solid #1aad19;\n  background-color: transparent;\n}\n\nbutton[type=primary][plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}",""])},"56":function(e,t,n){"use strict";var o=n(162),r=n(46),i=n.n(r),a=n(37);var s=null;function popupLogic(){try{s.location.href}catch(e){s.close(),window.alert("之前打开的窗口已关闭, 请重新点击并在新打开的窗口中重试。")}finally{s.postMessage("https://uniheart.herokuapp.com/passport/citi?redirect_uri="+encodeURIComponent(window.location.origin+"/pages/callback/citi"),window.location.origin)}}t.a=function(e){e(Object(a.b)());var t,n=setInterval(function(){s?s.closed&&(console.log("hello"),e(Object(a.c)()),clearInterval(n)):clearInterval(n)},1e3);s&&!s.closed||((s=window.open()).document.write("<html><head><title>第三方登录 我的个人中心</title></head><body><p>正在加载中, 请稍等 ……</p><script>window.addEventListener('message', function (event) {\n    console.log(event.data);\n\n    if (event.data.indexOf('http://') === 0 || event.data.indexOf('https://') === 0 || event.data.indexOf('//') === 0) {\n        location.href = event.data;\n    }\n}, false);\n\nwindow.opener.postMessage('listenerLoaded', window.location.origin);<\/script></body></html>"),window.addEventListener("message",(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(t){var n,r;return regeneratorRuntime.wrap(function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(console.log("event = ",t),t.origin===window.location.origin){c.next=3;break}return c.abrupt("return");case 3:if(t.data){c.next=5;break}return c.abrupt("return");case 5:if("listenerLoaded"!==t.data){c.next=7;break}return c.abrupt("return",popupLogic());case 7:if("string"!=typeof t.data||0!==t.data.indexOf("?")){c.next=23;break}if(n=i.a.parse(t.data.substr(1)),console.log(n),!n.token){c.next=22;break}return e(Object(a.a)(n.token)),c.prev=12,c.next=15,Object(o.a)({"url":"https://uniheart.pa-ca.me/jwt/user","header":{"Authorization":"Bearer "+n.token},"method":"GET"});case 15:r=c.sent,e(Object(a.e)(r.data)),c.next=22;break;case 19:c.prev=19,c.t0=c.catch(12),console.error(c.t0);case 22:return c.abrupt("return",(s||t.source).close());case 23:case"end":return c.stop()}},_callee,this,[[12,19]])})),function(e){return t.apply(this,arguments)}),!1)),popupLogic()}},"59":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n(74),r=n(73),i=n(162),a=n(1),s=n(37),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l,u=void 0;l={"clientID":"bacb8d3b-6ee0-4443-9bea-b54485a5a20d","authority":"https://login.microsoftonline.com/tfp/unihearti.onmicrosoft.com/B2C_1_tictactoe","b2cScopes":["https://unihearti.onmicrosoft.com/hello/demo.read"]},u=new o.UserAgentApplication(l.clientID,l.authority,function(e,t,n,o){console.log(e,t,n,o)});var p=function(){function User(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,User)}return c(User,null,[{"key":"getAgent","value":function getAgent(){return u}},{"key":"get","value":function get(){return u.getUser()}},{"key":"login","value":function login(){return u.loginRedirect(l.b2cScopes)}},{"key":"logout","value":function logout(){u.logout()}},{"key":"loginByToken","value":function loginByToken(e){var t,n=this;return t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(o,r){try{var i=t[o](r),a=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(a).then(function(e){step("next",e)},function(e){step("throw",e)});e(a)}("next")})}}(regeneratorRuntime.mark(function _callee(t){var o,c;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e(Object(s.a)(t.token)),Object(r.d)("token",t),n.prev=2,e(Object(s.b)()),n.next=6,Object(i.a)({"url":"https://uniheart.pa-ca.me/jwt/user","header":{"Authorization":"Bearer "+t.token,"accept":"application/json"},"method":"GET"});case 6:return o=n.sent,e(Object(s.a)(t.token)),e(Object(s.e)(o.data)),Object(r.d)("userInfo",o.data),n.abrupt("return",{"url":t.returnUrl||"/"});case 13:if(n.prev=13,n.t0=n.catch(2),c="发生了错误",401!==n.t0.status){n.next=22;break}if(c="登录失败",!1!==n.t0.bodyUsed){n.next=22;break}return n.next=21,n.t0.text();case 21:c=n.sent;case 22:a.a.atMessage({"message":c,"type":"error"}),e(Object(s.a)(""));case 24:case"end":return n.stop()}},_callee,n,[[2,13]])})),function(e){return t.apply(this,arguments)}}}]),User}()},"70":function(e,t,n){"use strict";n(30);var o=n(0),r=n(34),i=n(26),a=n.n(i),s=(n(40),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var l=function(e){function Button(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Button);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Button.__proto__||Object.getPrototypeOf(Button)).apply(this,arguments));return e.state={"hover":!1,"touch":!1},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Button,o["j"].Component),c(Button,[{"key":"render","value":function render(){var e,t=this,n=this.props,i=n.children,c=n.disabled,l=n.className,u=n.style,p=n.onClick,A=n.onTouchStart,f=n.onTouchEnd,d=n.hoverClass,h=void 0===d?"button-hover":d,y=n.hoverStartTime,m=void 0===y?20:y,b=n.hoverStayTime,g=void 0===b?70:b,v=n.size,w=n.plain,C=n.loading,j=void 0!==C&&C,_=n.type,k=void 0===_?"default":_,I=l||a()("weui-btn",(_defineProperty(e={},""+h,this.state.hover&&!c),_defineProperty(e,"weui-btn_plain-"+k,w),_defineProperty(e,"weui-btn_"+k,!w&&k),_defineProperty(e,"weui-btn_mini","mini"===v),_defineProperty(e,"weui-btn_loading",j),_defineProperty(e,"weui-btn_disabled",c),e));return o.j.createElement("button",s({},Object(r.a)(this.props,["hoverClass","onTouchStart","onTouchEnd"]),{"className":I,"style":u,"onClick":p,"disabled":c,"onTouchStart":function _onTouchStart(e){t.setState(function(){return{"touch":!0}}),h&&!c&&setTimeout(function(){t.state.touch&&t.setState(function(){return{"hover":!0}})},m),A&&A(e)},"onTouchEnd":function _onTouchEnd(e){t.setState(function(){return{"touch":!1}}),h&&!c&&setTimeout(function(){t.state.touch||t.setState(function(){return{"hover":!1}})},g),f&&f(e)}}),j&&o.j.createElement("i",{"class":"weui-loading"}),i)}}]),Button}();t.a=l},"72":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o,r,i=n(0),a=n(159),s=n(163),c=n(161),l=n(28),u=n.n(l),p=n(26),A=n.n(p),f=n(43),d=n.n(f),h=n(27),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(o=function(e){function AtCard(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtCard);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,(e=AtCard.__proto__||Object.getPrototypeOf(AtCard)).call.apply(e,[this].concat(i))),r.call(n),_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtCard,h["a"]),y(AtCard,[{"key":"render","value":function render(){var e,t=this.props,n=t.title,o=t.note,r=t.extra,l=t.thumb,u=t.isFull,p=t.icon,f=A()("at-card",{"at-card--full":u},this.props.className),d=A()((_defineProperty(e={"at-icon":!0},"at-icon-"+(p&&p.value),p&&p.value),_defineProperty(e,"at-card__header-icon",!0),e)),h={"color":p&&p.color||"","fontSize":p&&p.size+"px"||""};return i.j.createElement(a.a,{"onClick":this.handleClick,"className":f},i.j.createElement(a.a,{"className":"at-card__header"},l&&i.j.createElement(a.a,{"className":"at-card__header-thumb"},i.j.createElement(s.a,{"className":"at-card__header-thumb-info","mode":"scaleToFill","src":l})),!l&&p&&p.value&&i.j.createElement(c.a,{"className":d,"style":h}),i.j.createElement(c.a,{"className":"at-card__header-title"},n),r&&i.j.createElement(c.a,{"className":"at-card__header-extra"},r)),i.j.createElement(a.a,{"className":"at-card__content"},i.j.createElement(a.a,{"className":"at-card__content-info"},this.props.children),o&&i.j.createElement(a.a,{"className":"at-card__content-note"},o)))}}]),AtCard}(),r=function _initialiseProps(){var e=this;this.handleClick=function(){var t;d()(e.props.onClick)&&(t=e.props).onClick.apply(t,arguments)}},o);m.defaultProps={"note":"","isFull":!1,"thumb":"","title":"","extra":"","icon":{},"onClick":function onClick(){}},m.propTypes={"note":u.a.string,"isFull":u.a.bool,"thumb":u.a.string,"title":u.a.string,"extra":u.a.string,"icon":u.a.object,"onClick":u.a.func},m.defaultProps={"note":"","isFull":!1,"thumb":"","title":"","extra":"","onClick":function onClick(){}}},"83":function(e,t,n){}}]);