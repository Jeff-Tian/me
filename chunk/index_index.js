(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"116":function(e,t,n){var r=n(117);"string"==typeof r&&(r=[[e.i,r,""]]);var o={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(37)(r,o);r.locals&&(e.exports=r.locals)},"117":function(e,t,n){(e.exports=n(36)(!1)).push([e.i,"input {\n  display: block;\n  height: 1.4rem;\n  text-align: inherit;\n  text-overflow: clip;\n  overflow: hidden;\n  white-space: nowrap;\n}",""])},"126":function(e,t,n){},"138":function(e){e.exports={"name":"@jeff-tian/me","version":"0.0.0-development","description":"我的个人中心","scripts":{"build:weapp":"taro build --type weapp","build:swan":"taro build --type swan","build:alipay":"taro build --type alipay","build:tt":"taro build --type tt","build:h5":"taro build --type h5","build:rn":"taro build --type rn","build":"node_modules/.bin/taro build --type h5","dev:weapp":"npm run build:weapp -- --watch","dev:swan":"npm run build:swan -- --watch","dev:alipay":"npm run build:alipay -- --watch","dev:tt":"npm run build:tt -- --watch","dev:h5":"npm run build:h5 -- --watch","dev:rn":"npm run build:rn -- --watch","e2e":"jest --config jest.config.js --detectOpenHandles","lint":"eslint . --fix","semantic-release":"semantic-release","test":"jest --config jest-unittest.config.js"},"author":"jeff.tian@outlook.com","homepage":"https://pa-ca.me/","license":"MIT","dependencies":{"@tarojs/async-await":"1.3.22","@tarojs/components":"1.3.22","@tarojs/redux":"1.3.22","@tarojs/redux-h5":"1.3.22","@tarojs/router":"1.3.22","@tarojs/taro":"1.3.22","@tarojs/taro-alipay":"1.3.22","@tarojs/taro-h5":"1.3.22","@tarojs/taro-swan":"1.3.22","@tarojs/taro-tt":"1.3.22","@tarojs/taro-weapp":"1.3.22","msal":"0.2.4","nerv-devtools":"^1.5.3","nervjs":"^1.5.3","ramda":"^0.26.1","react":"16.9.0","redux":"4.0.1","redux-logger":"3.0.6","redux-thunk":"2.3.0","taro-ui":"2.0.2"},"devDependencies":{"@babel/core":"^7.6.4","@babel/preset-env":"^7.6.3","@tarojs/cli":"1.3.22","@tarojs/plugin-babel":"1.3.22","@tarojs/plugin-csso":"1.3.22","@tarojs/plugin-stylus":"1.3.22","@tarojs/plugin-uglifyjs":"1.3.22","@tarojs/webpack-runner":"1.3.22","@types/jest":"^24.0.23","@types/jest-environment-puppeteer":"^4.3.1","@types/node":"^12.12.7","@types/puppeteer":"^1.20.2","@types/ramda":"github:types/npm-ramda#dist","@types/react":"16.8.8","@types/webpack-env":"1.13.9","babel-eslint":"8.2.6","babel-jest":"^24.9.0","babel-plugin-transform-class-properties":"6.24.1","babel-plugin-transform-decorators-legacy":"1.3.5","babel-plugin-transform-jsx-stylesheet":"0.6.5","babel-plugin-transform-object-rest-spread":"6.26.0","babel-preset-env":"^1.7.0","enzyme":"latest","enzyme-adapter-react-16":"latest","eslint":"4.19.1","eslint-config-prettier":"^6.5.0","eslint-config-taro":"1.3.22","eslint-plugin-import":"2.16.0","eslint-plugin-prettier":"^3.1.1","eslint-plugin-react":"7.12.4","eslint-plugin-react-hooks":"^2.3.0","eslint-plugin-taro":"1.3.22","eslint-plugin-typescript":"0.12.0","gifencoder":"^2.0.1","jest":"^24.9.0","jest-puppeteer":"^4.3.0","png-file-stream":"^1.2.1","prettier":"^1.18.2","puppeteer":"^2.0.0","puppeteer-core":"^2.0.0","react-dom":"^16.12.0","semantic-release":"^15.13.30","taro":"*","ts-jest":"^24.1.0","typescript":"3.6.3"},"repository":{"type":"git","url":"https://github.com/Jeff-Tian/me.git"},"publishConfig":{"access":"public"}}},"149":function(e,t,n){},"155":function(e,t,n){"use strict";var r=n(1),o=n(0),a=n(158),i=n(67),s=(n(30),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var c=function(e){function Form(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Form);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Form.__proto__||Object.getPrototypeOf(Form)).apply(this,arguments));return e.Forms=[],e.onSubmit=e.onSubmit.bind(e),e.onReset=e.onReset.bind(e),e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Form,o["j"].Component),s(Form,[{"key":"onSubmit","value":function onSubmit(e){e.preventDefault();for(var t=o.j.findDOMNode(this),n=[],r=t.getElementsByTagName("input"),a=0;a<r.length;a++)n.push(r[a]);var i={},s={};n.forEach(function(e){-1===e.className.indexOf("weui-switch")?"radio"!==e.type?"checkbox"!==e.type?i[e.name]=e.value:e.checked?s[e.name]?i[e.name].push(e.value):(s[e.name]=!0,i[e.name]=[e.value]):s[e.name]||(i[e.name]=[]):e.checked?(s[e.name]=!0,i[e.name]=e.value):s[e.name]||(i[e.name]=""):i[e.name]=e.checked});for(var c=t.getElementsByTagName("textarea"),u=[],l=0;l<c.length;l++)u.push(c[l]);u.forEach(function(e){i[e.name]=e.value}),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":i}}),this.props.onSubmit(e)}},{"key":"onReset","value":function onReset(e){e.preventDefault(),this.props.onReset()}},{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.style;return o.j.createElement("form",{"className":t,"style":n,"onSubmit":this.onSubmit,"onReset":this.onReset},this.props.children)}}]),Form}(),u=n(28),l=n.n(u),p=n(26),f=n.n(p),d=n(27),b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var h=function(e){function AtLoading(){return function loading_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtLoading),function loading_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtLoading.__proto__||Object.getPrototypeOf(AtLoading)).apply(this,arguments))}return function loading_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtLoading,d["a"]),b(AtLoading,[{"key":"render","value":function render(){var e=this.props,t=e.color,n=e.size,i={"width":n?""+r.a.pxTransform(parseInt(n)):"","height":n?""+r.a.pxTransform(parseInt(n)):""},s={"border":t?"1px solid "+t:"","border-color":t?t+" transparent transparent transparent":""},c=Object.assign({},s,i);return o.j.createElement(a.a,{"className":"at-loading","style":i},o.j.createElement(a.a,{"className":"at-loading__ring","style":c}),o.j.createElement(a.a,{"className":"at-loading__ring","style":c}),o.j.createElement(a.a,{"className":"at-loading__ring","style":c}))}}]),AtLoading}();h.defaultProps={"size":0,"color":""},h.propTypes={"size":l.a.oneOfType([l.a.string,l.a.number]),"color":l.a.oneOfType([l.a.string,l.a.number])},n.d(t,"a",function(){return v});var y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var m={"normal":"normal","small":"small"},g={"primary":"primary","secondary":"secondary"},v=function(e){function AtButton(){!function button_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtButton);var e=function button_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtButton.__proto__||Object.getPrototypeOf(AtButton)).apply(this,arguments));return e.state={"isWEB":r.a.getEnv()===r.a.ENV_TYPE.WEB,"isWEAPP":r.a.getEnv()===r.a.ENV_TYPE.WEAPP,"isALIPAY":r.a.getEnv()===r.a.ENV_TYPE.ALIPAY},e}return function button_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtButton,d["a"]),y(AtButton,[{"key":"onClick","value":function onClick(){var e;this.props.disabled||this.props.onClick&&(e=this.props).onClick.apply(e,arguments)}},{"key":"onGetUserInfo","value":function onGetUserInfo(){var e;this.props.onGetUserInfo&&(e=this.props).onGetUserInfo.apply(e,arguments)}},{"key":"onContact","value":function onContact(){var e;this.props.onContact&&(e=this.props).onContact.apply(e,arguments)}},{"key":"onGetPhoneNumber","value":function onGetPhoneNumber(){var e;this.props.onGetPhoneNumber&&(e=this.props).onGetPhoneNumber.apply(e,arguments)}},{"key":"onError","value":function onError(){var e;this.props.onError&&(e=this.props).onError.apply(e,arguments)}},{"key":"onOpenSetting","value":function onOpenSetting(){var e;this.props.onOpenSetting&&(e=this.props).onOpenSetting.apply(e,arguments)}},{"key":"onSumit","value":function onSumit(){this.state.isWEAPP&&this.$scope.triggerEvent("submit",arguments[0].detail,{"bubbles":!0,"composed":!0})}},{"key":"onReset","value":function onReset(){this.state.isWEAPP&&this.$scope.triggerEvent("reset",arguments[0].detail,{"bubbles":!0,"composed":!0})}},{"key":"render","value":function render(){var e,t=this.props,n=t.size,r=void 0===n?"normal":n,s=t.type,u=void 0===s?"":s,l=t.circle,p=t.full,d=t.loading,b=t.disabled,y=t.customStyle,v=t.formType,_=t.openType,w=t.lang,j=t.sessionFrom,O=t.sendMessageTitle,C=t.sendMessagePath,P=t.sendMessageImg,k=t.showMessageCard,E=t.appParameter,x=this.state,T=x.isWEAPP,I=x.isALIPAY,S=["at-button"],A=(_defineProperty(e={},"at-button--"+m[r],m[r]),_defineProperty(e,"at-button--disabled",b),_defineProperty(e,"at-button--"+u,g[u]),_defineProperty(e,"at-button--circle",l),_defineProperty(e,"at-button--full",p),e),N="primary"===u?"#fff":"",L="small"===r?"30":0,R=void 0;d&&(R=o.j.createElement(a.a,{"className":"at-button__icon"},o.j.createElement(h,{"color":N,"size":L})),S.push("at-button--icon"));var F=o.j.createElement(i.a,{"className":"at-button__wxbutton","formType":v,"openType":_,"lang":w,"sessionFrom":j,"sendMessageTitle":O,"sendMessagePath":C,"sendMessageImg":P,"showMessageCard":k,"appParameter":E,"onGetUserInfo":this.onGetUserInfo.bind(this),"onGetPhoneNumber":this.onGetPhoneNumber.bind(this),"onOpenSetting":this.onOpenSetting.bind(this),"onError":this.onError.bind(this),"onContact":this.onContact.bind(this)});return o.j.createElement(a.a,{"className":f()(S,A,this.props.className),"style":y,"onClick":this.onClick.bind(this)},T&&!b&&o.j.createElement(c,{"reportSubmit":!0,"onSubmit":this.onSumit.bind(this),"onReset":this.onReset.bind(this)},F),I&&!b&&F,R,o.j.createElement(a.a,{"className":"at-button__text"},this.props.children))}}]),AtButton}();v.defaultProps={"size":"normal","type":"","circle":!1,"full":!1,"loading":!1,"disabled":!1,"customStyle":{},"onClick":function onClick(){},"formType":"","openType":"","lang":"en","sessionFrom":"","sendMessageTitle":"","sendMessagePath":"","sendMessageImg":"","showMessageCard":!1,"appParameter":"","onGetUserInfo":function onGetUserInfo(){},"onContact":function onContact(){},"onGetPhoneNumber":function onGetPhoneNumber(){},"onError":function onError(){},"onOpenSetting":function onOpenSetting(){}},v.propTypes={"size":l.a.oneOf(["normal","small"]),"type":l.a.oneOf(["primary","secondary",""]),"circle":l.a.bool,"full":l.a.bool,"loading":l.a.bool,"disabled":l.a.bool,"onClick":l.a.func,"customStyle":l.a.oneOfType([l.a.object,l.a.string]),"formType":l.a.oneOf(["submit","reset",""]),"openType":l.a.oneOf(["contact","share","getUserInfo","getPhoneNumber","launchApp","openSetting","feedback","getRealnameAuthInfo",""]),"lang":l.a.string,"sessionFrom":l.a.string,"sendMessageTitle":l.a.string,"sendMessagePath":l.a.string,"sendMessageImg":l.a.string,"showMessageCard":l.a.bool,"appParameter":l.a.string,"onGetUserInfo":l.a.func,"onContact":l.a.func,"onGetPhoneNumber":l.a.func,"onError":l.a.func,"onOpenSetting":l.a.func}},"169":function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(39),a=n(158),i=n(9),s=n(123),c=n(1),u=n(159),l=n(155),p=n(28),f=n.n(p),d=n(26),b=n.n(d),h=n(27),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var m=function(e){function AtDivider(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtDivider),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtDivider.__proto__||Object.getPrototypeOf(AtDivider)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtDivider,h["a"]),y(AtDivider,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.customStyle,o=e.content,i=e.height,s=e.fontColor,u=e.fontSize,l=e.lineColor,p={"height":i?""+c.a.pxTransform(i):""},f={"color":s,"font-size":u?""+c.a.pxTransform(u):""},d={"background-color":l};return r.j.createElement(a.a,{"className":b()("at-divider",t),"style":this.mergeStyle(p,n)},r.j.createElement(a.a,{"className":"at-divider__content","style":f},""===o?this.props.children:o),r.j.createElement(a.a,{"className":"at-divider__line","style":d}))}}]),AtDivider}();m.defaultProps={"content":"","height":0,"fontColor":"","fontSize":0,"lineColor":""},m.propTypes={"customStyle":f.a.oneOfType([f.a.object,f.a.string]),"className":f.a.oneOfType([f.a.array,f.a.string]),"content":f.a.string,"height":f.a.oneOfType([f.a.number,f.a.string]),"fontColor":f.a.string,"fontSize":f.a.oneOfType([f.a.number,f.a.string]),"lineColor":f.a.string};var g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var v=function(e){function AtCurtain(){return function curtain_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtCurtain),function curtain_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtCurtain.__proto__||Object.getPrototypeOf(AtCurtain)).apply(this,arguments))}return function curtain_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtCurtain,h["a"]),g(AtCurtain,[{"key":"onClose","value":function onClose(e){var t;e.stopPropagation(),(t=this.props).onClose.apply(t,arguments)}},{"key":"_stopPropagation","value":function _stopPropagation(e){e.stopPropagation()}},{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.customStyle,o=e.isOpened,i=e.closeBtnPosition,s=b()({"at-curtain":!0,"at-curtain--closed":!o},t),c=b()(function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}({"at-curtain__btn-close":!0},"at-curtain__btn-close--"+i,i));return r.j.createElement(a.a,{"className":s,"style":n,"onClick":this._stopPropagation},r.j.createElement(a.a,{"className":"at-curtain__container"},r.j.createElement(a.a,{"className":"at-curtain__body"},this.props.children,r.j.createElement(a.a,{"className":c,"onClick":this.onClose.bind(this)}))))}}]),AtCurtain}();v.defaultProps={"customStyle":"","className":"","isOpened":!1,"closeBtnPosition":"bottom","onClose":function onClose(){}},v.propTypes={"customStyle":f.a.oneOfType([f.a.object,f.a.string]),"className":f.a.oneOfType([f.a.array,f.a.string]),"isOpened":f.a.bool,"closeBtnPosition":f.a.string,"onClose":f.a.func};n(30);var _=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var w=function(e){function Label(){return function label_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Label),function label_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Label.__proto__||Object.getPrototypeOf(Label)).apply(this,arguments))}return function label_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Label,r["j"].Component),_(Label,[{"key":"render","value":function render(){var e=function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return r.j.createElement("label",e,this.props.children)}}]),Label}(),j=n(35),O=(n(116),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),C=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function getTrueType(e,t,n){if(!e)throw new Error("unexpected type");return"search"===t&&(e="search"),n&&(e="password"),"digit"===e&&(e="number"),e}var P=function(e){function Input(){!function input_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Input);var e=function input_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Input.__proto__||Object.getPrototypeOf(Input)).apply(this,arguments));return e.onInput=e.onInput.bind(e),e.onFocus=e.onFocus.bind(e),e.onBlur=e.onBlur.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.handleComposition=e.handleComposition.bind(e),e.isOnComposition=!1,e.onInputExcuted=!1,e}return function input_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Input,r["j"].Component),C(Input,[{"key":"componentDidMount","value":function componentDidMount(){"file"===this.props.type&&this.inputRef.addEventListener("change",this.onInput)}},{"key":"componentWillUnMount","value":function componentWillUnMount(){"file"===this.props.type&&this.inputRef.removeEventListener("change",this.onInput)}},{"key":"onInput","value":function onInput(e){var t=this.props,n=t.type,r=t.maxLength,o=t.confirmType,a=t.password,i=t.onInput,onInput=void 0===i?"":i,s=t.onChange,c=void 0===s?"":s;if(!this.isOnComposition&&!this.onInputExcuted){var u=e.target.value,l=getTrueType(n,o,a);if(this.onInputExcuted=!0,"number"===l&&u&&r<=u.length&&(u=u.substring(0,r),e.target.value=u),Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":u}}),!(["number","file"].indexOf(l)>=0)){var p=e.target.selectionEnd;setTimeout(function(){e.target.selectionStart=p,e.target.selectionEnd=p})}if(c)return c(e);if(onInput)return onInput(e)}}},{"key":"onFocus","value":function onFocus(e){var onFocus=this.props.onFocus;this.onInputExcuted=!1,Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onFocus&&onFocus(e)}},{"key":"onBlur","value":function onBlur(e){var onBlur=this.props.onBlur;Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),onBlur&&onBlur(e)}},{"key":"onKeyDown","value":function onKeyDown(e){var t=this.props,n=t.onConfirm,onKeyDown=t.onKeyDown;this.onInputExcuted=!1,onKeyDown&&onKeyDown(e),13===e.keyCode&&n&&(Object.defineProperty(e,"detail",{"enumerable":!0,"value":{"value":e.target.value}}),n(e))}},{"key":"handleComposition","value":function handleComposition(e){e.target instanceof HTMLInputElement&&("compositionend"===e.type?(this.isOnComposition=!1,this.onInput(e)):this.isOnComposition=!0)}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.className,o=void 0===n?"":n,a=t.placeholder,i=t.type,s=void 0===i?"text":i,c=t.password,u=t.disabled,l=t.maxLength,p=t.confirmType,f=void 0===p?"":p,d=t.focus,h=void 0!==d&&d,y=t.value,m=b()("weui-input",o),g=Object(j.a)(this.props,["className","placeholder","disabled","max","onChange","onFocus","onBlur","type","focus"]);return"value"in this.props&&(g.value=function fixControlledValue(e){return void 0===e||null===e?"":e}(y)),r.j.createElement("input",O({"ref":function ref(t){e.inputRef=t,t&&h&&t.focus()}},g,{"className":m,"placeholder":a,"disabled":u,"maxlength":l,"onInput":this.onInput,"onFocus":this.onFocus,"onBlur":this.onBlur,"autofocus":h,"onKeyDown":this.onKeyDown,"type":getTrueType(s,f,c),"onCompositionStart":this.handleComposition,"onCompositionEnd":this.handleComposition}))}}]),Input}();P.defaultProps={"type":"text"};var k=P,E=n(160),x=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function components_input_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function AtInput(){var e,t,n;!function components_input_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtInput);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=components_input_possibleConstructorReturn(this,(e=AtInput.__proto__||Object.getPrototypeOf(AtInput)).call.apply(e,[this].concat(o))),n.onInput=function(e){for(var t,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return(t=n.props).onChange.apply(t,[e.target.value].concat(o))},n.onFocus=function(e){for(var t,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return(t=n.props).onFocus.apply(t,[e.target.value].concat(o))},n.onBlur=function(e){for(var t,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return(t=n.props).onBlur.apply(t,[e.target.value].concat(o))},n.onConfirm=function(e){for(var t,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return(t=n.props).onConfirm.apply(t,[e.target.value].concat(o))},n.onClick=function(){var e;return!n.props.editable&&(e=n.props).onClick.apply(e,arguments)},n.clearValue=function(){for(var e,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.props).onChange.apply(e,[""].concat(r))},n.onErrorClick=function(){var e;return(e=n.props).onErrorClick.apply(e,arguments)},components_input_possibleConstructorReturn(n,t)}return function components_input_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtInput,h["a"]),x(AtInput,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.customStyle,o=e.name,i=e.cursorSpacing,s=e.confirmType,c=e.cursor,u=e.selectionStart,l=e.selectionEnd,p=e.adjustPosition,f=e.border,d=e.title,h=e.error,y=e.clear,m=e.placeholder,g=e.placeholderStyle,v=e.placeholderClass,_=e.autoFocus,j=e.focus,O=e.value,C=function getInputProps(e){var t={"type":e.type,"maxLength":e.maxLength,"disabled":e.disabled,"password":!1};switch(t.type){case"phone":t.type="number",t.maxLength=11;break;case"password":t.password=!0}return e.disabled||e.editable||(t.disabled=!0),t}(this.props),P=C.type,x=C.maxLength,T=C.disabled,I=C.password,S=b()("at-input",{"at-input--without-border":!f},t),A=b()("at-input__container",{"at-input--error":h,"at-input--disabled":T}),N=b()("at-input__overlay",{"at-input__overlay--hidden":!T}),L=b()("placeholder",v);return r.j.createElement(a.a,{"className":S,"style":n},r.j.createElement(a.a,{"className":A},r.j.createElement(a.a,{"className":N,"onClick":this.onClick}),d&&r.j.createElement(w,{"className":"at-input__title","for":o},d),r.j.createElement(k,{"className":"at-input__input","id":o,"name":o,"type":P,"password":I,"placeholderStyle":g,"placeholderClass":L,"placeholder":m,"cursorSpacing":i,"maxLength":x,"autoFocus":_,"focus":j,"value":O,"confirmType":s,"cursor":c,"selectionStart":u,"selectionEnd":l,"adjustPosition":p,"onInput":this.onInput,"onFocus":this.onFocus,"onBlur":this.onBlur,"onConfirm":this.onConfirm}),y&&O&&r.j.createElement(a.a,{"className":"at-input__icon","onTouchStart":this.clearValue},r.j.createElement(E.a,{"className":"at-icon at-icon-close-circle at-input__icon-close"})),h&&r.j.createElement(a.a,{"className":"at-input__icon","onTouchStart":this.onErrorClick},r.j.createElement(E.a,{"className":"at-icon at-icon-alert-circle at-input__icon-alert"})),r.j.createElement(a.a,{"className":"at-input__children"},this.props.children)))}}]),AtInput}();T.defaultProps={"className":"","customStyle":"","value":"","name":"","placeholder":"","placeholderStyle":"","placeholderClass":"","title":"","cursorSpacing":50,"confirmType":"完成","cursor":0,"selectionStart":-1,"selectionEnd":-1,"adjustPosition":!0,"maxLength":140,"type":"text","disabled":!1,"border":!0,"editable":!0,"error":!1,"clear":!1,"autoFocus":!1,"focus":!1,"onChange":function onChange(){},"onFocus":function onFocus(){},"onBlur":function onBlur(){},"onConfirm":function onConfirm(){},"onErrorClick":function onErrorClick(){},"onClick":function onClick(){}},T.propTypes={"className":f.a.oneOfType([f.a.string,f.a.array]),"customStyle":f.a.oneOfType([f.a.string,f.a.object]),"value":f.a.oneOfType([f.a.string,f.a.number]),"name":f.a.string,"placeholder":f.a.string,"placeholderStyle":f.a.string,"placeholderClass":f.a.string,"title":f.a.string,"confirmType":f.a.string,"cursor":f.a.oneOfType([f.a.string,f.a.number]),"selectionStart":f.a.oneOfType([f.a.string,f.a.number]),"selectionEnd":f.a.oneOfType([f.a.string,f.a.number]),"adjustPosition":f.a.bool,"cursorSpacing":f.a.oneOfType([f.a.string,f.a.number]),"maxLength":f.a.oneOfType([f.a.string,f.a.number]),"type":f.a.string,"disabled":f.a.bool,"border":f.a.bool,"editable":f.a.bool,"error":f.a.bool,"clear":f.a.bool,"backgroundColor":f.a.string,"autoFocus":f.a.bool,"focus":f.a.bool,"onChange":f.a.func,"onFocus":f.a.func,"onBlur":f.a.func,"onConfirm":f.a.func,"onErrorClick":f.a.func,"onClick":f.a.func};n(79);var I=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var A=function(e){function UnLoggedInView(){return function unlogged_in_view_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UnLoggedInView),function unlogged_in_view_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(UnLoggedInView.__proto__||Object.getPrototypeOf(UnLoggedInView)).apply(this,arguments))}return function unlogged_in_view_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(UnLoggedInView,c["a"].Component),S(UnLoggedInView,[{"key":"render","value":function render(){var e=this.props,t=c.a.useState(!1),n=I(t,2),o=n[0],i=n[1],s=c.a.useState(""),p=I(s,2),f=p[0],d=p[1],b=function hideTokenModal(){return i(!1)};return r.j.createElement(a.a,{"className":"container-main"},r.j.createElement(u.a,null),r.j.createElement(l.a,{"type":"primary","onClick":e.login,"loading":e.index.loading},c.a.getEnv()===c.a.ENV_TYPE.WEB?"微软 AD 账号":"",c.a.getEnv()===c.a.ENV_TYPE.WEAPP&&"微信授权登录"),r.j.createElement(m,null),c.a.getEnv()===c.a.ENV_TYPE.WEB?r.j.createElement(l.a,{"onClick":e.citiLogin.bind(this),"loading":e.index.loading},"花旗账号登录"):null,r.j.createElement(m,null),r.j.createElement(l.a,{"onClick":function showTokenModal(){return i(!0)},"loading":e.index.loading},"令牌登录"),r.j.createElement(v,{"isOpened":o,"onClose":b,"closeBtnPosition":"top-right"},r.j.createElement(T,{"autoFocus":!0,"focus":!0,"name":"token","title":"请输入令牌","type":"text","placeholder":"令牌","value":f,"onChange":function onChange(e){d(String(e))}}),r.j.createElement(m,null),r.j.createElement(l.a,{"type":"primary","onClick":function onClick(){e.tokenLogin(f),b()}},"登录")))}}]),UnLoggedInView}(),N=(n(42),n(60)),L=n(38),R=n(172);document.addEventListener("copy",function(){Object(s.d)({"key":"taro_clipboard","data":window.getSelection().toString()}).catch(function(e){console.error(e)})});var F=function setClipboardData(e){var t=e.data,n=e.success,r=e.fail,o=e.complete;return new Promise(function(e,a){Object(s.d)({"key":"taro_clipboard","data":t}).then(function(){if("function"!=typeof document.execCommand)throw new Error("Unsupported Function: 'document.execCommand'.");var r=document.createElement("input");r.readOnly=!0,r.value=t,r.style.position="absolute",r.style.width="100px",r.style.left="-10000px",document.body.appendChild(r),r.select(),r.setSelectionRange(0,r.value.length),document.execCommand("copy"),document.body.removeChild(r);var a={"errMsg":"setClipboardData:ok","data":t};n&&n(a),o&&o(),e(a)}).catch(function(e){var t={"errMsg":"setClipboardData:fail "+e.message};r&&r(t),o&&o(),a(t)})})},D=n(128),B=n(156),U=n(69),M=(n(126),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),G=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var V=function(e){function UserCard(e){!function user_card_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserCard);var t=function user_card_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(UserCard.__proto__||Object.getPrototypeOf(UserCard)).call(this,e));return"citi"===e.user.provider&&(t.state={"profile":JSON.parse(e.user.profile)}),t}return function user_card_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(UserCard,c["a"].Component),G(UserCard,[{"key":"render","value":function render(){return this.props.user&&(this.props.user.idToken&&this.props.user.idToken.emails?r.j.createElement(D.a,null,this.props.user.idToken.emails.map(function(e){return r.j.createElement(B.a,{"title":e,"key":e})})):r.j.createElement(U.a,{"title":this.props.user.display_name,"note":this.props.user.createdAt,"thumb":"https://sandbox.apihub.citi.com/gcb/authCode/resources/images/Citi-Enterprise-White.png","extra":this.state.profile?this.state.profile.customerType:""},this.renderObject(this.state.profile)))}},{"key":"renderObject","value":function renderObject(e){var t=this;if(!e)return"";return r.j.createElement(a.a,{"className":"at-article"},Object.keys(e).map(function renderThat(n){return t.renderIt(e[n],n)}))}},{"key":"renderIt","value":function renderIt(e,t){switch(void 0===e?"undefined":M(e)){case"string":return r.j.createElement(a.a,{"className":"at-article__h3"},t,": ",e);case"object":return r.j.createElement(a.a,{"className":"at-article__section"},r.j.createElement(a.a,{"className":"at-article__h3"},t),this.renderObject(e));default:return null}}}]),UserCard}(),z=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var W=function(e){function LoggedInCard(){return function logged_in_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoggedInCard),function logged_in_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(LoggedInCard.__proto__||Object.getPrototypeOf(LoggedInCard)).apply(this,arguments))}return function logged_in_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(LoggedInCard,c["a"].Component),z(LoggedInCard,[{"key":"render","value":function render(){var e=this.props;return r.j.createElement(V,{"user":e.user})}}]),LoggedInCard}(),H=n(138),K=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var Y=function(e){function LoggedInView(e){return function logged_in_view_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LoggedInView),function logged_in_view_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(LoggedInView.__proto__||Object.getPrototypeOf(LoggedInView)).call(this,e))}return function logged_in_view_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(LoggedInView,c["a"].Component),K(LoggedInView,[{"key":"issueToken","value":function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(){var e,t;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:if(e=Object(s.b)("token")){n.next=5;break}return n.next=4,Object(R.d)({"title":"操作失败，请重新登录后再试。","icon":"none","duration":3e3});case 4:return n.abrupt("return");case 5:return t=H.homepage+"pages/callback/citi?token="+e.token+"&traceId="+e.traceId,console.log("link = ",t),n.prev=7,n.next=10,F({"data":t});case 10:return n.next=12,Object(R.d)({"title":t,"icon":"success","duration":2e3});case 12:n.next=19;break;case 14:return n.prev=14,n.t0=n.catch(7),console.error(n.t0),n.next=19,Object(R.d)({"title":t,"icon":"none","duration":6e3});case 19:case"end":return n.stop()}},_callee,this,[[7,14]])}));return function issueToken(){return e.apply(this,arguments)}}()},{"key":"render","value":function render(){return r.j.createElement(a.a,null,r.j.createElement(W,{"user":this.props.index.user}),r.j.createElement(m,null),r.j.createElement(l.a,{"type":"primary","onClick":this.issueToken.bind(this),"loading":this.state.issueInProgress},"颁发令牌"),r.j.createElement(m,null),r.j.createElement(l.a,{"type":"primary","onClick":this.props.logout,"loading":this.props.index.loading},"退出登录"))}}]),LoggedInView}(),$=n(55),J=(n(149),n(34)),q=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),Q=function get(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0};var X=function(e){function Index(){!function index_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function index_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationBarTitleText":"我的个人中心"},e.state={"popup":null,"showDrawer":!1},e}return function index_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,c["a"].Component),q(Index,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){console.log(this.props,e)}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":function componentDidShow(){this.props.setUser($.a.get()||Object(s.b)("userInfo"))}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"handleClick","value":function handleClick(){console.log(arguments)}},{"key":"showDrawer","value":function showDrawer(){this.setState({"showDrawer":!0})}},{"key":"onCloseDrawer","value":function onCloseDrawer(){this.setState({"showDrawer":!1})}},{"key":"render","value":function render(){return r.j.createElement(J.a,null,r.j.createElement(a.a,{"className":"container"},this.props.index.user?r.j.createElement(Y,this.props):r.j.createElement(A,this.props)))}},{"key":"componentDidMount","value":function componentDidMount(){Q(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&Q(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}}]),Index}();X=Object(o.__decorate)([Object(i.b)(function(e){return{"index":e.index}},function(e){return{"login":function login(){e(Object(L.b)()),$.a.login().then(function(t){return e(Object(L.e)(t))})},"logout":function logout(){e(Object(L.d)()),Object(s.e)("userInfo",null),$.a.logout(),e(Object(L.e)(null))},"setUser":function setUser(t){e(Object(L.e)(t))},"citiLogin":function citiLogin(){Object(N.a)(e)},"tokenLogin":function tokenLogin(t){e(Object(L.b)()),$.a.loginByToken(e)({"token":t}).then()}}})],X);t.default=X},"34":function(e,t,n){"use strict";var r=n(0),o=n(1),a=n(158),i=n(159),s=n(164),c=n(163),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=new Map([["账号信息","/"],["账号绑定","/pages/accounts/bind"],["卡片信息","/pages/cards/cards"],["产品列表","/pages/cards/product-list"]]),p=function(e){function Drawer(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Drawer),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Drawer.__proto__||Object.getPrototypeOf(Drawer)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Drawer,o["a"].Component),u(Drawer,[{"key":"render","value":function render(){var e,t=this,n=this.props,a=(e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(e){return regeneratorRuntime.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.navigateTo({"url":[].concat(_toConsumableArray(l.values()))[e]});case 2:case"end":return t.stop()}},_callee,t)})),function onItemClick(t){return e.apply(this,arguments)});return r.j.createElement(c.a,{"show":n.show,"right":!0,"mask":!0,"onClose":n.onClose,"items":[].concat(_toConsumableArray(l.keys())),"onItemClick":a})}}]),Drawer}();n.d(t,"a",function(){return b});var f=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var b=function(e){function HardwayLayout(){return function layout_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HardwayLayout),function layout_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(HardwayLayout.__proto__||Object.getPrototypeOf(HardwayLayout)).apply(this,arguments))}return function layout_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(HardwayLayout,o["a"].Component),d(HardwayLayout,[{"key":"render","value":function render(){var e=this.props,t=o.a.useState(!1),n=f(t,2),c=n[0],u=n[1];return r.j.createElement(a.a,{"className":"index"},r.j.createElement(i.a,null),r.j.createElement(s.a,{"onClickRgIconSt":function onOpenDrawer(){return u(!0)},"onClickRgIconNd":function onClickRgIconNd(){},"onClickLeftIcon":function onClickLeftIcon(){},"color":"#000","title":"我的个人中心","leftText":"返回","leftIconType":"chevron-left","rightFirstIconType":"bullet-list","rightSecondIconType":"user"}),r.j.createElement(a.a,{"className":"container"},e.children),r.j.createElement(p,{"show":c,"onClose":function onCloseDrawer(){return u(!1)}}))}}]),HardwayLayout}()},"38":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c});var r=n(6),o=function login(){return{"type":r.c}},a=function logout(){return{"type":r.d}},i=function setUser(e){return{"type":r.e,"user":e}},s=function loggedIn(e){return{"type":r.a,"token":e}},c=function loginCancelled(){return{"type":r.b}}},"40":function(e,t,n){var r=n(41);"string"==typeof r&&(r=[[e.i,r,""]]);var o={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(37)(r,o);r.locals&&(e.exports=r.locals)},"41":function(e,t,n){(e.exports=n(36)(!1)).push([e.i,"button {\n  position: relative;\n  display: block;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 14px;\n  padding-right: 14px;\n  box-sizing: border-box;\n  font-size: 18px;\n  text-align: center;\n  text-decoration: none;\n  line-height: 2.55555556;\n  border-radius: 5px;\n  -webkit-tap-highlight-color: transparent;\n  overflow: hidden;\n  color: #000000;\n  background-color: #F8F8F8;\n}\n\nbutton[plain] {\n  color: #353535;\n  border: 1px solid #353535;\n  background-color: transparent;\n}\n\nbutton[plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}\n\nbutton[type=primary] {\n  color: #FFFFFF;\n  background-color: #1AAD19;\n}\n\nbutton[type=primary][plain] {\n  color: #1aad19;\n  border: 1px solid #1aad19;\n  background-color: transparent;\n}\n\nbutton[type=primary][plain][disabled] {\n  color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  background-color: #F7F7F7;\n}",""])},"55":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(70),o=n(123),a=n(161),i=n(172),s=n(38),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var u,l=void 0;u={"clientID":"bacb8d3b-6ee0-4443-9bea-b54485a5a20d","authority":"https://login.microsoftonline.com/tfp/unihearti.onmicrosoft.com/B2C_1_tictactoe","b2cScopes":["https://unihearti.onmicrosoft.com/hello/demo.read"]},l=new r.UserAgentApplication(u.clientID,u.authority,function(e,t,n,r){console.log(e,t,n,r)});var p=function(){function User(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,User)}return c(User,null,[{"key":"getAgent","value":function getAgent(){return l}},{"key":"get","value":function get(){return l.getUser()}},{"key":"login","value":function login(){return l.loginRedirect(u.b2cScopes)}},{"key":"logout","value":function logout(){l.logout()}},{"key":"loginByToken","value":function loginByToken(e){var t,n=this;return t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(t){var r,c;return regeneratorRuntime.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return e(Object(s.a)(t.token)),Object(o.e)("token",t),n.prev=2,e(Object(s.b)()),n.next=6,Object(a.a)({"url":"https://uniheart.pa-ca.me/jwt/user","header":{"Authorization":"Bearer "+t.token,"accept":"application/json"},"method":"GET"});case 6:return r=n.sent,e(Object(s.a)(t.token)),e(Object(s.e)(r.data)),Object(o.e)("userInfo",r.data),n.abrupt("return",{"url":t.returnUrl||"/"});case 13:if(n.prev=13,n.t0=n.catch(2),console.error("碰到了错误：",n.t0),c="发生了错误",401!==n.t0.status){n.next=23;break}if(c="登录失败",n.t0.bodyUsed){n.next=23;break}return n.next=22,n.t0.text();case 22:c=n.sent;case 23:return n.next=25,Object(i.c)({"title":"出错了","content":c});case 25:e(Object(s.a)(""));case 26:case"end":return n.stop()}},_callee,n,[[2,13]])})),function(e){return t.apply(this,arguments)}}}]),User}()},"60":function(e,t,n){"use strict";var r=n(123),o=n(1),a=n(161),i=n(54),s=n.n(i),c=n(38);var u=null;function popupLogic(){try{u.location.href}catch(e){console.error("打开子窗口失败：",e),u.close(),window.alert("之前打开的窗口已关闭, 请重新点击并在新打开的窗口中重试。")}finally{u&&u.postMessage("https://uniheart.herokuapp.com/passport/citi?redirect_uri="+encodeURIComponent(window.location.origin+"/pages/callback/citi"),window.location.origin)}}t.a=function(e){Object(r.e)("returnPath",window.location.pathname),e(Object(c.b)());var t,n=setInterval(function(){u?u.closed&&(console.log("login cancelled!"),e(Object(c.c)()),clearInterval(n),o.a.navigateTo({"url":window.location.pathname})):clearInterval(n)},1e3);u&&!u.closed||(u=window.open())&&u.document.write('<html>\n  <head>\n    <title>第三方登录 我的个人中心</title>\n  </head>\n  <body>\n    <p>正在加载中, 请稍等 ……</p>\n    <script>\n      window.addEventListener(\n        "message",\n        function(event) {\n          console.log(event.data);\n\n          if (\n            event.data.indexOf("http://") === 0 ||\n            event.data.indexOf("https://") === 0 ||\n            event.data.indexOf("//") === 0\n          ) {\n            location.href = event.data;\n          }\n        },\n        false\n      );\n\n      window.opener.postMessage("listenerLoaded", window.location.origin);\n    <\/script>\n  </body>\n</html>\n'),window.addEventListener("message",(t=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(t){var n,i,l;return regeneratorRuntime.wrap(function _callee$(p){for(;;)switch(p.prev=p.next){case 0:if(console.log("event = ",t),t.origin===window.location.origin){p.next=3;break}return p.abrupt("return");case 3:if(t.data){p.next=5;break}return p.abrupt("return");case 5:if("listenerLoaded"!==t.data){p.next=7;break}return p.abrupt("return",popupLogic());case 7:if("string"!=typeof t.data||0!==t.data.indexOf("?")){p.next=27;break}if(n=s.a.parse(t.data.substr(1)),console.log(n),!n.token){p.next=26;break}return e(Object(c.a)(n.token)),p.prev=12,p.next=15,Object(a.a)({"url":"https://uniheart.pa-ca.me/jwt/user","header":{"Authorization":"Bearer "+n.token},"method":"GET"});case 15:return i=p.sent,e(Object(c.e)(i.data)),l=Object(r.b)("returnPath"),console.log("即将跳转到：",l),p.next=21,o.a.navigateTo({"url":l,"success":function success(){return Object(r.c)("returnPath")}});case 21:p.next=26;break;case 23:p.prev=23,p.t0=p.catch(12),console.error(p.t0);case 26:return p.abrupt("return",(u||t.source).close());case 27:case"end":return p.stop()}},_callee,this,[[12,23]])})),function(e){return t.apply(this,arguments)}),!1),popupLogic()}},"67":function(e,t,n){"use strict";n(30);var r=n(0),o=n(35),a=n(26),i=n.n(a),s=(n(40),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}var u=function(e){function Button(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Button);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Button.__proto__||Object.getPrototypeOf(Button)).apply(this,arguments));return e.state={"hover":!1,"touch":!1},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Button,r["j"].Component),c(Button,[{"key":"render","value":function render(){var e,t=this,n=this.props,a=n.children,c=n.disabled,u=n.className,l=n.style,p=n.onClick,f=n.onTouchStart,d=n.onTouchEnd,b=n.hoverClass,h=void 0===b?"button-hover":b,y=n.hoverStartTime,m=void 0===y?20:y,g=n.hoverStayTime,v=void 0===g?70:g,_=n.size,w=n.plain,j=n.loading,O=void 0!==j&&j,C=n.type,P=void 0===C?"default":C,k=u||i()("weui-btn",(_defineProperty(e={},""+h,this.state.hover&&!c),_defineProperty(e,"weui-btn_plain-"+P,w),_defineProperty(e,"weui-btn_"+P,!w&&P),_defineProperty(e,"weui-btn_mini","mini"===_),_defineProperty(e,"weui-btn_loading",O),_defineProperty(e,"weui-btn_disabled",c),e));return r.j.createElement("button",s({},Object(o.a)(this.props,["hoverClass","onTouchStart","onTouchEnd"]),{"className":k,"style":l,"onClick":p,"disabled":c,"onTouchStart":function _onTouchStart(e){t.setState(function(){return{"touch":!0}}),h&&!c&&setTimeout(function(){t.state.touch&&t.setState(function(){return{"hover":!0}})},m),f&&f(e)},"onTouchEnd":function _onTouchEnd(e){t.setState(function(){return{"touch":!1}}),h&&!c&&setTimeout(function(){t.state.touch||t.setState(function(){return{"hover":!1}})},v),d&&d(e)}}),O&&r.j.createElement("i",{"class":"weui-loading"}),a)}}]),Button}();t.a=u},"69":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r,o,a=n(0),i=n(158),s=n(162),c=n(160),u=n(28),l=n.n(u),p=n(26),f=n.n(p),d=n(43),b=n.n(d),h=n(27),y=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(r=function(e){function AtCard(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtCard);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=n=_possibleConstructorReturn(this,(e=AtCard.__proto__||Object.getPrototypeOf(AtCard)).call.apply(e,[this].concat(a))),o.call(n),_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtCard,h["a"]),y(AtCard,[{"key":"render","value":function render(){var e,t=this.props,n=t.title,r=t.note,o=t.extra,u=t.thumb,l=t.isFull,p=t.icon,d=f()("at-card",{"at-card--full":l},this.props.className),b=f()((_defineProperty(e={"at-icon":!0},"at-icon-"+(p&&p.value),p&&p.value),_defineProperty(e,"at-card__header-icon",!0),e)),h={"color":p&&p.color||"","fontSize":p&&p.size+"px"||""};return a.j.createElement(i.a,{"onClick":this.handleClick,"className":d},a.j.createElement(i.a,{"className":"at-card__header"},u&&a.j.createElement(i.a,{"className":"at-card__header-thumb"},a.j.createElement(s.a,{"className":"at-card__header-thumb-info","mode":"scaleToFill","src":u})),!u&&p&&p.value&&a.j.createElement(c.a,{"className":b,"style":h}),a.j.createElement(c.a,{"className":"at-card__header-title"},n),o&&a.j.createElement(c.a,{"className":"at-card__header-extra"},o)),a.j.createElement(i.a,{"className":"at-card__content"},a.j.createElement(i.a,{"className":"at-card__content-info"},this.props.children),r&&a.j.createElement(i.a,{"className":"at-card__content-note"},r)))}}]),AtCard}(),o=function _initialiseProps(){var e=this;this.handleClick=function(){var t;b()(e.props.onClick)&&(t=e.props).onClick.apply(t,arguments)}},r);m.defaultProps={"note":"","isFull":!1,"thumb":"","title":"","extra":"","icon":{},"onClick":function onClick(){}},m.propTypes={"note":l.a.string,"isFull":l.a.bool,"thumb":l.a.string,"title":l.a.string,"extra":l.a.string,"icon":l.a.object,"onClick":l.a.func},m.defaultProps={"note":"","isFull":!1,"thumb":"","title":"","extra":"","onClick":function onClick(){}}},"79":function(e,t,n){}}]);